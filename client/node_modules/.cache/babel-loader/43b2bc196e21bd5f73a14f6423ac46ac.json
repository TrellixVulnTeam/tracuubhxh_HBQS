{"remainingRequest":"E:\\PROJECT\\TRACUUNO\\client\\node_modules\\babel-loader\\lib\\index.js!E:\\PROJECT\\TRACUUNO\\client\\src\\store\\modules\\authentication.js","dependencies":[{"path":"E:\\PROJECT\\TRACUUNO\\client\\src\\store\\modules\\authentication.js","mtime":1658281201800},{"path":"E:\\PROJECT\\TRACUUNO\\client\\babel.config.js","mtime":1624424366000},{"path":"E:\\PROJECT\\TRACUUNO\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\PROJECT\\TRACUUNO\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdXNlclNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcyc7CmltcG9ydCB7IHJvdXRlciB9IGZyb20gJy4uLy4uL3JvdXRlcic7CmNvbnN0IHVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpOwpjb25zdCBzdGF0ZSA9IHVzZXIgPyB7CiAgc3RhdHVzOiB7CiAgICBsb2dnZWRJbjogdHJ1ZQogIH0sCiAgdXNlcgp9IDogewogIHN0YXR1czoge30sCiAgdXNlcjogbnVsbAp9Owpjb25zdCBhY3Rpb25zID0gewogIGxvZ2luKHsKICAgIGRpc3BhdGNoLAogICAgY29tbWl0CiAgfSwgewogICAgdXNlcm5hbWUsCiAgICBwYXNzd29yZAogIH0pIHsKICAgIGNvbW1pdCgnbG9naW5SZXF1ZXN0JywgewogICAgICB1c2VybmFtZQogICAgfSk7CiAgICB1c2VyU2VydmljZS5sb2dpbihtYXNvdGh1ZSwgbWFkb252aSkudGhlbih1c2VyID0+IHsKICAgICAgY29tbWl0KCdsb2dpblN1Y2Nlc3MnLCB1c2VyKTsKICAgICAgcm91dGVyLnB1c2goJy8nKTsKICAgIH0sIGVycm9yID0+IHsKICAgICAgY29tbWl0KCdsb2dpbkZhaWx1cmUnLCBlcnJvcik7CiAgICAgIGRpc3BhdGNoKCdhbGVydC9lcnJvcicsIGVycm9yLCB7CiAgICAgICAgcm9vdDogdHJ1ZQogICAgICB9KTsKICAgIH0pOwogIH0sCgogIGxvZ291dCh7CiAgICBjb21taXQKICB9KSB7CiAgICB1c2VyU2VydmljZS5sb2dvdXQoKTsKICAgIGNvbW1pdCgnbG9nb3V0Jyk7CiAgfSwKCiAgcmVnaXN0ZXIoewogICAgZGlzcGF0Y2gsCiAgICBjb21taXQKICB9LCB1c2VyKSB7CiAgICBjb21taXQoJ3JlZ2lzdGVyUmVxdWVzdCcsIHVzZXIpOwogICAgdXNlclNlcnZpY2UucmVnaXN0ZXIodXNlcikudGhlbih1c2VyID0+IHsKICAgICAgY29tbWl0KCdyZWdpc3RlclN1Y2Nlc3MnLCB1c2VyKTsKICAgICAgcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAvLyBoaeG7g24gdGjhu4sgbWVzc2FnZSB0aMOgbmggY8O0bmcgc2F1IHJlZGlyZWN0IHNhbmcgdHJhbmcgCiAgICAgICAgZGlzcGF0Y2goJ2FsZXJ0L3N1Y2Nlc3MnLCAnUmVnaXN0cmF0aW9uIHN1Y2Nlc3NmdWwnLCB7CiAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwgZXJyb3IgPT4gewogICAgICBjb21taXQoJ3JlZ2lzdGVyRmFpbHVyZScsIGVycm9yKTsKICAgICAgZGlzcGF0Y2goJ2FsZXJ0L2Vycm9yJywgZXJyb3IsIHsKICAgICAgICByb290OiB0cnVlCiAgICAgIH0pOwogICAgfSk7CiAgfQoKfTsKY29uc3QgbXV0YXRpb25zID0gewogIGxvZ2luUmVxdWVzdChzdGF0ZSwgdXNlcikgewogICAgc3RhdGUuc3RhdHVzID0gewogICAgICBsb2dnaW5nSW46IHRydWUKICAgIH07CiAgICBzdGF0ZS51c2VyID0gdXNlcjsKICB9LAoKICBsb2dpblN1Y2Nlc3Moc3RhdGUsIHVzZXIpIHsKICAgIHN0YXRlLnN0YXR1cyA9IHsKICAgICAgbG9nZ2VkSW46IHRydWUKICAgIH07CiAgICBzdGF0ZS51c2VyID0gdXNlcjsKICB9LAoKICBsb2dpbkZhaWx1cmUoc3RhdGUpIHsKICAgIHN0YXRlLnN0YXR1cyA9IHt9OwogICAgc3RhdGUudXNlciA9IG51bGw7CiAgfSwKCiAgbG9nb3V0KHN0YXRlKSB7CiAgICBzdGF0ZS5zdGF0dXMgPSB7fTsKICAgIHN0YXRlLnVzZXIgPSBudWxsOwogIH0sCgogIHJlZ2lzdGVyUmVxdWVzdChzdGF0ZSwgdXNlcikgewogICAgc3RhdGUuc3RhdHVzID0gewogICAgICByZWdpc3RlcmluZzogdHJ1ZQogICAgfTsKICB9LAoKICByZWdpc3RlclN1Y2Nlc3Moc3RhdGUsIHVzZXIpIHsKICAgIHN0YXRlLnN0YXR1cyA9IHt9OwogIH0sCgogIHJlZ2lzdGVyRmFpbHVyZShzdGF0ZSwgZXJyb3IpIHsKICAgIHN0YXRlLnN0YXR1cyA9IHt9OwogIH0KCn07CmV4cG9ydCBjb25zdCBhY2NvdW50ID0gewogIHN0YXRlLAogIGFjdGlvbnMsCiAgbXV0YXRpb25zCn07"},{"version":3,"names":["userService","router","user","JSON","parse","localStorage","getItem","state","status","loggedIn","actions","login","dispatch","commit","username","password","masothue","madonvi","then","push","error","root","logout","register","setTimeout","mutations","loginRequest","loggingIn","loginSuccess","loginFailure","registerRequest","registering","registerSuccess","registerFailure","account"],"sources":["E:/PROJECT/TRACUUNO/client/src/store/modules/authentication.js"],"sourcesContent":["import { userService } from '../../services';\nimport { router } from '../../router';\n\nconst user = JSON.parse(localStorage.getItem('user'));\nconst state = user\n    ? { status: { loggedIn: true }, user }\n    : { status: {}, user: null };\n\nconst actions = {\n    login({ dispatch, commit }, { username, password }) {\n        commit('loginRequest', { username });\n\n        userService.login(masothue, madonvi)\n            .then(\n                user => {\n                    commit('loginSuccess', user);\n                    router.push('/');\n                },\n                error => {\n                    commit('loginFailure', error);\n                    dispatch('alert/error', error, { root: true });\n                }\n            );\n    },\n    logout({ commit }) {\n        userService.logout();\n        commit('logout');\n    },\n    register({ dispatch, commit }, user) {\n        commit('registerRequest', user);\n\n        userService.register(user)\n            .then(\n                user => {\n                    commit('registerSuccess', user);\n                    router.push('/login');\n                    setTimeout(() => {\n                        // hiển thị message thành công sau redirect sang trang \n                        dispatch('alert/success', 'Registration successful', { root: true });\n                    })\n                },\n                error => {\n                    commit('registerFailure', error);\n                    dispatch('alert/error', error, { root: true });\n                }\n            );\n    }\n};\n\nconst mutations = {\n    loginRequest(state, user) {\n        state.status = { loggingIn: true };\n        state.user = user;\n    },\n    loginSuccess(state, user) {\n        state.status = { loggedIn: true };\n        state.user = user;\n    },\n    loginFailure(state) {\n        state.status = {};\n        state.user = null;\n    },\n    logout(state) {\n        state.status = {};\n        state.user = null;\n    },\n    registerRequest(state, user) {\n        state.status = { registering: true };\n    },\n    registerSuccess(state, user) {\n        state.status = {};\n    },\n    registerFailure(state, error) {\n        state.status = {};\n    }\n};\n\nexport const account = {\n    state,\n    actions,\n    mutations\n};\n"],"mappings":"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"}]}