{"remainingRequest":"E:\\PROJECT\\TRACUUNO\\client\\node_modules\\babel-loader\\lib\\index.js!E:\\PROJECT\\TRACUUNO\\client\\src\\store\\modules\\account.js","dependencies":[{"path":"E:\\PROJECT\\TRACUUNO\\client\\src\\store\\modules\\account.js","mtime":1658283776802},{"path":"E:\\PROJECT\\TRACUUNO\\client\\babel.config.js","mtime":1624424366000},{"path":"E:\\PROJECT\\TRACUUNO\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\PROJECT\\TRACUUNO\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdXNlclNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcyc7CmltcG9ydCB7IHJvdXRlciB9IGZyb20gJy4uLy4uL3JvdXRlcic7CmNvbnN0IHVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpOwpjb25zdCBzdGF0ZSA9IHVzZXIgPyB7CiAgc3RhdHVzOiB7CiAgICBsb2dnZWRJbjogdHJ1ZQogIH0sCiAgdXNlcgp9IDogewogIHN0YXR1czoge30sCiAgdXNlcjogbnVsbAp9Owpjb25zdCBnZXR0ZXJzID0ge307CmNvbnN0IGFjdGlvbnMgPSB7CiAgbG9naW4oewogICAgZGlzcGF0Y2gsCiAgICBjb21taXQKICB9LCB7CiAgICBtYXNvdGh1ZSwKICAgIG1hZG9udmkKICB9KSB7CiAgICBjb21taXQoJ2xvZ2luUmVxdWVzdCcsIHsKICAgICAgbWFzb3RodWUKICAgIH0pOwogICAgdXNlclNlcnZpY2UubG9naW4obWFzb3RodWUsIG1hZG9udmkpLnRoZW4odXNlciA9PiB7CiAgICAgIGNvbW1pdCgnbG9naW5TdWNjZXNzJywgdXNlcik7CiAgICAgIHJvdXRlci5wdXNoKCcvJyk7CiAgICB9LCBlcnJvciA9PiB7CiAgICAgIGNvbW1pdCgnbG9naW5GYWlsdXJlJywgZXJyb3IpOwogICAgICBkaXNwYXRjaCgnYWxlcnQvZXJyb3InLCBlcnJvciwgewogICAgICAgIHJvb3Q6IHRydWUKICAgICAgfSk7CiAgICB9KTsKICB9LAoKICBsb2dvdXQoewogICAgY29tbWl0CiAgfSkgewogICAgdXNlclNlcnZpY2UubG9nb3V0KCk7CiAgICBjb21taXQoJ2xvZ291dCcpOwogIH0sCgogIHJlZ2lzdGVyKHsKICAgIGRpc3BhdGNoLAogICAgY29tbWl0CiAgfSwgdXNlcikgewogICAgY29tbWl0KCdyZWdpc3RlclJlcXVlc3QnLCB1c2VyKTsKICAgIHVzZXJTZXJ2aWNlLnJlZ2lzdGVyKHVzZXIpLnRoZW4odXNlciA9PiB7CiAgICAgIGNvbW1pdCgncmVnaXN0ZXJTdWNjZXNzJywgdXNlcik7CiAgICAgIHJvdXRlci5wdXNoKCcvbG9naW4nKTsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgLy8gaGnhu4NuIHRo4buLIG1lc3NhZ2UgdGjDoG5oIGPDtG5nIHNhdSByZWRpcmVjdCBzYW5nIHRyYW5nIAogICAgICAgIGRpc3BhdGNoKCdhbGVydC9zdWNjZXNzJywgJ1JlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsJywgewogICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sIGVycm9yID0+IHsKICAgICAgY29tbWl0KCdyZWdpc3RlckZhaWx1cmUnLCBlcnJvcik7CiAgICAgIGRpc3BhdGNoKCdhbGVydC9lcnJvcicsIGVycm9yLCB7CiAgICAgICAgcm9vdDogdHJ1ZQogICAgICB9KTsKICAgIH0pOwogIH0KCn07CmNvbnN0IG11dGF0aW9ucyA9IHsKICBsb2dpblJlcXVlc3Qoc3RhdGUsIHVzZXIpIHsKICAgIHN0YXRlLnN0YXR1cyA9IHsKICAgICAgbG9nZ2luZ0luOiB0cnVlCiAgICB9OwogICAgc3RhdGUudXNlciA9IHVzZXI7CiAgfSwKCiAgbG9naW5TdWNjZXNzKHN0YXRlLCB1c2VyKSB7CiAgICBzdGF0ZS5zdGF0dXMgPSB7CiAgICAgIGxvZ2dlZEluOiB0cnVlCiAgICB9OwogICAgc3RhdGUudXNlciA9IHVzZXI7CiAgfSwKCiAgbG9naW5GYWlsdXJlKHN0YXRlKSB7CiAgICBzdGF0ZS5zdGF0dXMgPSB7fTsKICAgIHN0YXRlLnVzZXIgPSBudWxsOwogIH0sCgogIGxvZ291dChzdGF0ZSkgewogICAgc3RhdGUuc3RhdHVzID0ge307CiAgICBzdGF0ZS51c2VyID0gbnVsbDsKICB9LAoKICByZWdpc3RlclJlcXVlc3Qoc3RhdGUsIHVzZXIpIHsKICAgIHN0YXRlLnN0YXR1cyA9IHsKICAgICAgcmVnaXN0ZXJpbmc6IHRydWUKICAgIH07CiAgfSwKCiAgcmVnaXN0ZXJTdWNjZXNzKHN0YXRlLCB1c2VyKSB7CiAgICBzdGF0ZS5zdGF0dXMgPSB7fTsKICB9LAoKICByZWdpc3RlckZhaWx1cmUoc3RhdGUsIGVycm9yKSB7CiAgICBzdGF0ZS5zdGF0dXMgPSB7fTsKICB9Cgp9OwpleHBvcnQgY29uc3QgYWNjb3VudCA9IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlLAogIGdldHRlcnMsCiAgYWN0aW9ucywKICBtdXRhdGlvbnMKfTs="},{"version":3,"names":["userService","router","user","JSON","parse","localStorage","getItem","state","status","loggedIn","getters","actions","login","dispatch","commit","masothue","madonvi","then","push","error","root","logout","register","setTimeout","mutations","loginRequest","loggingIn","loginSuccess","loginFailure","registerRequest","registering","registerSuccess","registerFailure","account","namespaced"],"sources":["E:/PROJECT/TRACUUNO/client/src/store/modules/account.js"],"sourcesContent":["import { userService } from '../../services';\r\nimport { router } from '../../router';\r\n\r\nconst user = JSON.parse(localStorage.getItem('user'));\r\nconst state = user\r\n    ? { status: { loggedIn: true }, user }\r\n    : { status: {}, user: null };\r\nconst getters = {\r\n\r\n}\r\nconst actions = {\r\n    login({ dispatch, commit }, { masothue, madonvi }) {\r\n        commit('loginRequest', { masothue });\r\n\r\n        userService.login(masothue, madonvi)\r\n            .then(\r\n                user => {\r\n                    commit('loginSuccess', user);\r\n                    router.push('/');\r\n                },\r\n                error => {\r\n                    commit('loginFailure', error);\r\n                    dispatch('alert/error', error, { root: true });\r\n                }\r\n            );\r\n    },\r\n    logout({ commit }) {\r\n        userService.logout();\r\n        commit('logout');\r\n    },\r\n    register({ dispatch, commit }, user) {\r\n        commit('registerRequest', user);\r\n\r\n        userService.register(user)\r\n            .then(\r\n                user => {\r\n                    commit('registerSuccess', user);\r\n                    router.push('/login');\r\n                    setTimeout(() => {\r\n                        // hiển thị message thành công sau redirect sang trang \r\n                        dispatch('alert/success', 'Registration successful', { root: true });\r\n                    })\r\n                },\r\n                error => {\r\n                    commit('registerFailure', error);\r\n                    dispatch('alert/error', error, { root: true });\r\n                }\r\n            );\r\n    }\r\n};\r\n\r\nconst mutations = {\r\n    loginRequest(state, user) {\r\n        state.status = { loggingIn: true };\r\n        state.user = user;\r\n    },\r\n    loginSuccess(state, user) {\r\n        state.status = { loggedIn: true };\r\n        state.user = user;\r\n    },\r\n    loginFailure(state) {\r\n        state.status = {};\r\n        state.user = null;\r\n    },\r\n    logout(state) {\r\n        state.status = {};\r\n        state.user = null;\r\n    },\r\n    registerRequest(state, user) {\r\n        state.status = { registering: true };\r\n    },\r\n    registerSuccess(state, user) {\r\n        state.status = {};\r\n    },\r\n    registerFailure(state, error) {\r\n        state.status = {};\r\n    }\r\n};\r\n\r\nexport const account = {\r\n    namespaced: true,\r\n    state,\r\n    getters,\r\n    actions,\r\n    mutations\r\n};\r\n"],"mappings":"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"}]}