{"remainingRequest":"E:\\PROJECT\\TRACUUNO\\node_modules\\babel-loader\\lib\\index.js!E:\\PROJECT\\TRACUUNO\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\PROJECT\\TRACUUNO\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\PROJECT\\TRACUUNO\\src\\pages\\users\\user-list.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\PROJECT\\TRACUUNO\\src\\pages\\users\\user-list.vue","mtime":1625294908000},{"path":"E:\\PROJECT\\TRACUUNO\\babel.config.js","mtime":1624424366000},{"path":"E:\\PROJECT\\TRACUUNO\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\PROJECT\\TRACUUNO\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\PROJECT\\TRACUUNO\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\PROJECT\\TRACUUNO\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1vZGVzOiBbIm11bHRpIiwgInNpbmdsZSIsICJyYW5nZSJdLAogICAgICB0YWJsZWZpZWxkczogW3sKICAgICAgICBrZXk6ICJkZWxldGUiCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJpbWFnZSIsCiAgICAgICAgbGFiZWw6ICJBdmF0YXIiLAogICAgICAgIHNvcnRhYmxlOiBmYWxzZQogICAgICB9LCB7CiAgICAgICAga2V5OiAibmFtZSIsCiAgICAgICAgbGFiZWw6ICJGaXJzdCBOYW1lIiwKICAgICAgICBzb3J0YWJsZTogZmFsc2UKICAgICAgfSwgewogICAgICAgIGtleTogImxhc3ROYW1lIiwKICAgICAgICBsYWJlbDogIkxhc3QgTmFtZSIsCiAgICAgICAgc29ydGFibGU6IGZhbHNlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJlbWFpbCIsCiAgICAgICAgbGFiZWw6ICJFbWFpbCIsCiAgICAgICAgc29ydGFibGU6IGZhbHNlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJsYXN0TG9naW4iLAogICAgICAgIGxhYmVsOiAiTGFzdCBMb2dpbiIsCiAgICAgICAgc29ydGFibGU6IGZhbHNlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJyb2xlIiwKICAgICAgICBsYWJlbDogIlJvbGUiLAogICAgICAgIHNvcnRhYmxlOiBmYWxzZQogICAgICB9XSwKICAgICAgZmlsdGVyOiBudWxsLAogICAgICB0b3RhbFJvd3M6IDEsCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBwZXJQYWdlOiAxMCwKICAgICAgcGFnZU9wdGlvbnM6IFs1LCAxMCwgMTVdLAogICAgICBzZWxlY3RNb2RlOiAibXVsdGkiLAogICAgICBzZWxlY3RlZDogW10KICAgIH07CiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJ1c2VyL2dldFVzZXJzIik7CiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIC8vIFNldCB0aGUgaW5pdGlhbCBudW1iZXIgb2YgaXRlbXMKICAgIHRoaXMudG90YWxSb3dzID0gdGhpcy5pdGVtcy5sZW5ndGg7CiAgfSwKCiAgY29tcHV0ZWQ6IHsgLi4ubWFwR2V0dGVycyh7CiAgICAgIGl0ZW1zOiAidXNlci9nZXRVc2VycyIKICAgIH0pLAoKICAgIHNvcnRPcHRpb25zKCkgewogICAgICAvLyBDcmVhdGUgYW4gb3B0aW9ucyBsaXN0IGZyb20gb3VyIGZpZWxkcwogICAgICByZXR1cm4gdGhpcy50YWJsZWZpZWxkcy5maWx0ZXIoZiA9PiBmLnNvcnRhYmxlKS5tYXAoZiA9PiB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHRleHQ6IGYubGFiZWwsCiAgICAgICAgICB2YWx1ZTogZi5rZXkKICAgICAgICB9OwogICAgICB9KTsKICAgIH0sCgogICAgc2VsZWN0ZWRSb3dzKCkgewogICAgICByZXR1cm4gdGhpcy5pdGVtcy5maWx0ZXIoaXRlbSA9PiBpdGVtLmRlbGV0ZSk7CiAgICB9CgogIH0sCiAgbWV0aG9kczogewogICAgZGVsZXRlU2VsZWN0ZWQoaXRlbSkgewogICAgICBsZXQgb2JqSW5kZXggPSB0aGlzLnNlbGVjdGVkLmZpbmRJbmRleChvYmogPT4gb2JqLmlkID09IGl0ZW0uaWQpOwoKICAgICAgaWYgKG9iakluZGV4ID4gLTEpIHsKICAgICAgICB0aGlzLnNlbGVjdGVkLnNwbGljZShvYmpJbmRleCwgMSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZC5wdXNoKGl0ZW0pOwogICAgICB9CiAgICB9LAoKICAgIGdldEltZ1VybChwYXRoKSB7CiAgICAgIHJldHVybiByZXF1aXJlKCJAL2Fzc2V0cy9pbWFnZXMvdXNlcnMvIiArIHBhdGgpOwogICAgfSwKCiAgICByb3dTZWxlY3RlZChpdGVtKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWQgPSBpdGVtOwoKICAgICAgaWYgKGl0ZW1bMF0pIHsKICAgICAgICB0aGlzLmVkaXQgPSB0aGlzLmVkaXQgIT09IGl0ZW1bMF0uaWQgPyBpdGVtWzBdLmlkIDogbnVsbDsKICAgICAgfQogICAgfSwKCiAgICBvbkZpbHRlcmVkKGZpbHRlcmVkSXRlbXMpIHsKICAgICAgLy8gVHJpZ2dlciBwYWdpbmF0aW9uIHRvIHVwZGF0ZSB0aGUgbnVtYmVyIG9mIGJ1dHRvbnMvcGFnZXMgZHVlIHRvIGZpbHRlcmluZwogICAgICB0aGlzLnRvdGFsUm93cyA9IGZpbHRlcmVkSXRlbXMubGVuZ3RoOwogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTsKICAgIH0sCgogICAgZGVsZXRlUm93KCkgewogICAgICBmb3IgKHZhciBpID0gdGhpcy5pdGVtcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewogICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5zZWxlY3RlZC5sZW5ndGg7IGorKykgewogICAgICAgICAgaWYgKHRoaXMuaXRlbXNbaV0gJiYgdGhpcy5pdGVtc1tpXS5pZCA9PT0gdGhpcy5zZWxlY3RlZFtqXS5pZCkgewogICAgICAgICAgICB0aGlzLml0ZW1zLnNwbGljZShpLCAxKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgZGVsZXRlQmF0Y2hSb3coKSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zZWxlY3RlZC5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0aGlzLml0ZW1zW2ldLmlkID09IHRoaXMuc2VsZWN0ZWRbaV0uaWQpIHsKICAgICAgICAgIHRoaXMuaXRlbXMuc3BsaWNlKHRoaXMuaXRlbXNbaV0sIDEpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICBzaG93TXNnQm94VHdvKCkgewogICAgICB0aGlzLiRidk1vZGFsLm1zZ0JveENvbmZpcm0oJ0FyZSB5b3Ugc3VyZSEnLCB7CiAgICAgICAgdGl0bGU6ICdDb25maXJtYXRpb24nLAogICAgICAgIHNpemU6ICdtZCcsCiAgICAgICAgYnV0dG9uU2l6ZTogJ3NtJywKICAgICAgICBva1ZhcmlhbnQ6ICdwcmltYXJ5JywKICAgICAgICBva1RpdGxlOiAnWUVTJywKICAgICAgICBjYW5jZWxUaXRsZTogJ0NBTkNMRScsCiAgICAgICAgZm9vdGVyQ2xhc3M6ICdwLTInLAogICAgICAgIGhpZGVIZWFkZXJDbG9zZTogZmFsc2UgLy8gY2VudGVyZWQ6IHRydWUKCiAgICAgIH0pLnRoZW4odmFsdWUgPT4gewogICAgICAgIHRoaXMuZGVsZXRlUm93KCk7CiAgICAgICAgdGhpcy5zZWxlY3RlZCA9IFtdOwogICAgICB9KS5jYXRjaChlcnIgPT4gey8vIEFuIGVycm9yIG9jY3VycmVkCiAgICAgIH0pOwogICAgfQoKICB9Cn07"},{"version":3,"mappings":"AA2HA;AAEA;EACAA;IACA;MACAC,mCADA;MAEAC,cACA;QAAAC;MAAA,CADA,EAEA;QAAAA;QAAAC;QAAAC;MAAA,CAFA,EAGA;QAAAF;QAAAC;QAAAC;MAAA,CAHA,EAIA;QAAAF;QAAAC;QAAAC;MAAA,CAJA,EAKA;QAAAF;QAAAC;QAAAC;MAAA,CALA,EAMA;QAAAF;QAAAC;QAAAC;MAAA,CANA,EAOA;QAAAF;QAAAC;QAAAC;MAAA,CAPA,CAFA;MAWAC,YAXA;MAYAC,YAZA;MAaAC,cAbA;MAcAC,WAdA;MAeAC,wBAfA;MAgBAC,mBAhBA;MAiBAC;IAjBA;EAmBA,CArBA;;EAsBAC;IACA;EACA,CAxBA;;EAyBAC;IACA;IACA;EACA,CA5BA;;EA6BAC,YACA;MACAC;IADA,EADA;;IAIAC;MACA;MACA,wBACAX,MADA,CACAY,eADA,EAEAC,GAFA,CAEAD;QACA;UAAAE;UAAAC;QAAA;MACA,CAJA;IAKA,CAXA;;IAYAC;MACA;IACA;;EAdA,CA7BA;EA6CAC;IACAC;MACA;;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA,CARA;;IASAC;MACA;IACA,CAXA;;IAYAC;MACA;;MACA;QACA;MACA;IACA,CAjBA;;IAkBAC;MACA;MACA;MACA;IACA,CAtBA;;IAuBAC;MACA;QACA;UACA;YACA;UACA;QACA;MACA;IACA,CA/BA;;IAgCAC;MACA;QACA;UACA;QACA;MACA;IACA,CAtCA;;IAuCAC;MACA;QACAC,qBADA;QAEAC,UAFA;QAGAC,gBAHA;QAIAC,oBAJA;QAKAC,cALA;QAMAC,qBANA;QAOAC,kBAPA;QAQAC,sBARA,CASA;;MATA,GAWAC,IAXA,CAWAlB;QACA;QACA;MACA,CAdA,EAeAmB,KAfA,CAeAC,QACA;MACA,CAjBA;IAkBA;;EA1DA;AA7CA","names":["data","modes","tablefields","key","label","sortable","filter","totalRows","currentPage","perPage","pageOptions","selectMode","selected","created","mounted","computed","items","sortOptions","f","map","text","value","selectedRows","methods","deleteSelected","getImgUrl","rowSelected","onFiltered","deleteRow","deleteBatchRow","showMsgBoxTwo","title","size","buttonSize","okVariant","okTitle","cancelTitle","footerClass","hideHeaderClose","then","catch","err"],"sourceRoot":"src/pages/users","sources":["user-list.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"container-fluid\">\n      <div class=\"page-header\">\n        <Breadcrumbs main=\"Users\" title=\"User Lists\" />\n      </div>\n    </div>\n    <div class=\"container-fluid\">\n      <div class=\"row\">\n        <div class=\"col-md-12\">\n          <div class=\"card\">\n            <div class=\"card-header\">\n              <h5>User Detail</h5>\n            </div>\n            <div class=\"card-body\">\n              <router-link to=\"/users/create-user\">\n                <b-button class=\"btn-popup pull-right\"\n                  >Create User</b-button\n                ></router-link\n              >\n              <div class=\"table-responsive datatable-vue user-list\">\n                <div>\n                  <b-modal\n                    id=\"modal-1\"\n                    title=\"Confirmation\"\n                    @ok=\"deleteBatchRow\"\n                  >\n                    <p class=\"my-4\">Are you sure!</p>\n                  </b-modal>\n                </div>\n                <div></div>\n                <!--<commonTable\n                  :selectMode=\"selectMode\"\n                  :items=\"items\"\n                  :fields=\"tablefields\"\n                  :filter=\"filter\"\n                  :perPage=\"perPage\"\n                  :totalRows=\"totalRows\"\n                  :currentPage=\"currentPage\"\n                  :selectable=\"false\"\n                >\n                </commonTable>-->\n                <b-table\n                  class=\"text-center\"\n                  :select-mode=\"selectMode\"\n                  show-empty\n                  striped\n                  hover\n                  head-variant=\"light\"\n                  bordered\n                  stacked=\"md\"\n                  :items=\"items\"\n                  :fields=\"tablefields\"\n                  :filter=\"filter\"\n                  :current-page=\"currentPage\"\n                  :per-page=\"perPage\"\n                  @filtered=\"onFiltered\"\n                  @row-selected=\"rowSelected\"\n                >\n                  <template v-slot:head(delete)>\n                    <b-button\n                      variant=\"danger\"\n                      :disabled=\"selectedRows.length === 0\"\n                      @click=\"showMsgBoxTwo\"\n                      >Delete</b-button\n                    >\n                  </template>\n                  <template #cell(image)=\"field\">\n                    <img\n                      height=\"50px\"\n                      :src=\"getImgUrl(field.item.images)\"\n                      width=\"50px\"\n                    />\n                  </template>\n                  <template #cell(status) v-for=\"(item, index) in items\">\n                    <feather\n                      v-if=\"item.status == true\"\n                      :key=\"index\"\n                      type=\"circle\"\n                      stroke=\"#81BA01\"\n                      stroke-width=\"1\"\n                      size=\"12px\"\n                      :fill=\"\n                        item.status == true\n                          ? '#81BA01'\n                          : item.status == false\n                          ? '#FBBC58'\n                          : ''\n                      \"\n                      stroke-linejoin=\"round\"\n                    ></feather>\n                  </template>\n                  <b-table-column v-slot:cell(delete)>\n                    <a href=\"#\">edit</a>\n                    <a href=\"#\"> remove</a>\n                  </b-table-column>\n\n                  <template v-slot:cell(delete)=\"{ item, field: { key } }\">\n                    <b-checkbox\n                      v-model=\"item[key]\"\n                      @change=\"deleteSelected(item)\"\n                    ></b-checkbox>\n                  </template>\n                </b-table>\n              </div>\n              <b-col md=\"12\" class=\"my-1 p-0 pagination-justify\">\n                <b-pagination\n                  v-model=\"currentPage\"\n                  :total-rows=\"totalRows\"\n                  :per-page=\"perPage\"\n                  aria-controls=\"my-table\"\n                  class=\"mt-4\"\n                ></b-pagination>\n              </b-col>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  data() {\n    return {\n      modes: [\"multi\", \"single\", \"range\"],\n      tablefields: [\n        { key: \"delete\" },\n        { key: \"image\", label: \"Avatar\", sortable: false },\n        { key: \"name\", label: \"First Name\", sortable: false },\n        { key: \"lastName\", label: \"Last Name\", sortable: false },\n        { key: \"email\", label: \"Email\", sortable: false },\n        { key: \"lastLogin\", label: \"Last Login\", sortable: false },\n        { key: \"role\", label: \"Role\", sortable: false }\n      ],\n      filter: null,\n      totalRows: 1,\n      currentPage: 1,\n      perPage: 10,\n      pageOptions: [5, 10, 15],\n      selectMode: \"multi\",\n      selected: []\n    };\n  },\n  created() {\n    this.$store.dispatch(\"user/getUsers\");\n  },\n  mounted() {\n    // Set the initial number of items\n    this.totalRows = this.items.length;\n  },\n  computed: {\n    ...mapGetters({\n      items: \"user/getUsers\"\n    }),\n    sortOptions() {\n      // Create an options list from our fields\n      return this.tablefields\n        .filter(f => f.sortable)\n        .map(f => {\n          return { text: f.label, value: f.key };\n        });\n    },\n    selectedRows() {\n      return this.items.filter(item => item.delete);\n    }\n  },\n  methods: {\n    deleteSelected(item) {\n      let objIndex = this.selected.findIndex((obj => obj.id == item.id));\n      if (objIndex > -1) {\n        this.selected.splice(objIndex, 1);\n      } else {\n        this.selected.push(item)\n      }\n    },\n    getImgUrl(path) {\n      return require(\"@/assets/images/users/\" + path);\n    },\n    rowSelected(item) {\n      this.selected = item;\n      if (item[0]) {\n        this.edit = this.edit !== item[0].id ? item[0].id : null;\n      }\n    },\n    onFiltered(filteredItems) {\n      // Trigger pagination to update the number of buttons/pages due to filtering\n      this.totalRows = filteredItems.length;\n      this.currentPage = 1;\n    },\n    deleteRow() {\n      for( var i=this.items.length - 1; i>=0; i--){\n        for( var j=0; j<this.selected.length; j++){\n          if(this.items[i] && (this.items[i].id === this.selected[j].id)){\n            this.items.splice(i, 1);\n          }\n        }\n      }\n    },\n    deleteBatchRow() {\n      for (var i = 0; i < this.selected.length; i++) {\n        if (this.items[i].id == this.selected[i].id) {\n          this.items.splice(this.items[i], 1);\n        }\n      }\n    },\n    showMsgBoxTwo() {\n        this.$bvModal.msgBoxConfirm('Are you sure!', {\n          title: 'Confirmation',\n          size: 'md',\n          buttonSize: 'sm',\n          okVariant: 'primary',\n          okTitle: 'YES',\n          cancelTitle: 'CANCLE',\n          footerClass: 'p-2',\n          hideHeaderClose: false,\n          // centered: true\n        })\n          .then(value => {\n            this.deleteRow();\n            this.selected = [];\n          })\n          .catch(err => {\n            // An error occurred\n          })\n      }\n  }\n};\n</script>"]}]}