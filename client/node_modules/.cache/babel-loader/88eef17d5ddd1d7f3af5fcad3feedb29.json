{"remainingRequest":"E:\\PROJECT\\TRACUUNO\\client\\node_modules\\babel-loader\\lib\\index.js!E:\\PROJECT\\TRACUUNO\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\PROJECT\\TRACUUNO\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\PROJECT\\TRACUUNO\\client\\src\\pages\\authentication\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\PROJECT\\TRACUUNO\\client\\src\\pages\\authentication\\login.vue","mtime":1658378275835},{"path":"E:\\PROJECT\\TRACUUNO\\client\\babel.config.js","mtime":1624424366000},{"path":"E:\\PROJECT\\TRACUUNO\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\PROJECT\\TRACUUNO\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\PROJECT\\TRACUUNO\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\PROJECT\\TRACUUNO\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHt9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdHlwZTogInBhc3N3b3JkIiwKICAgICAgc3VibWl0dGVkOiBmYWxzZSwKICAgICAgZm9ybTogewogICAgICAgIE1BX0RPTlZJOiBudWxsLAogICAgICAgIE1TX1RIVUU6IG51bGwsCiAgICAgICAgU0RUX05HVU9JX0REOiBudWxsCiAgICAgIH0sCiAgICAgIG1lc3NhZ2U6ICIiCiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7CiAgICBsb2dnZWRJbigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmF1dGguc3RhdHVzLmxvZ2dlZEluOwogICAgfQoKICB9LAoKICBjcmVhdGVkKCkgewogICAgaWYgKHRoaXMubG9nZ2VkSW4pIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9kYXNoYm9hcmQvZGVmYXVsdCIpOwogICAgfQogIH0sCgogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVN1Ym1pdCgpIHsKICAgICAgdGhpcy5zdWJtaXR0ZWQgPSB0cnVlOwogICAgfSwKCiAgICBhc3luYyBsb2dpbigpIHsKICAgICAgaWYgKCF0aGlzLmZvcm0uTUFfRE9OVkkgJiYgIXRoaXMuZm9ybS5NU19USFVFICYmICF0aGlzLmZvcm0uU0RUX05HVU9JX0REKSB7CiAgICAgICAgY29uc3QgVG9hc3QgPSB0aGlzLiRzd2FsLm1peGluKHsKICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgIHRpbWVyOiAzMDAwLAogICAgICAgICAgdGltZXJQcm9ncmVzc0JhcjogdHJ1ZSwKICAgICAgICAgIGRpZE9wZW46IHRvYXN0ID0+IHsKICAgICAgICAgICAgdG9hc3QuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VlbnRlciIsIHRoaXMuJHN3YWwuc3RvcFRpbWVyKTsKICAgICAgICAgICAgdG9hc3QuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VsZWF2ZSIsIHRoaXMuJHN3YWwucmVzdW1lVGltZXIpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIFRvYXN0LmZpcmUoewogICAgICAgICAgaWNvbjogIndhcm5pbmciLAogICAgICAgICAgdGl0bGU6ICJC4bqhbiBraMO0bmcgdGjhu4MgxJHEg25nIG5o4bqtcCBu4bq/dSBraMO0bmcgY8OzIHRow7RuZyB0aW4gY2jDrW5oIHjDoWMuIgogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhdXRoL2xvZ2luIiwgdGhpcy5mb3JtKS50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvZGFzaGJvYXJkL2RlZmF1bHQiKTsKICAgICAgICB9LCBlcnJvciA9PiB7CiAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSBlcnJvci5yZXNwb25zZSAmJiBlcnJvci5yZXNwb25zZS5kYXRhIHx8IGVycm9yLm1lc3NhZ2UgfHwgZXJyb3IudG9TdHJpbmcoKTsKICAgICAgICB9KTsKICAgICAgfQogICAgICAvKiBsZXQgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KAogICAgICAgIGBodHRwOi8vbG9jYWxob3N0Ojk5OTkvYXBpL3VzZXJzL21zdC9sb2dpbmAsCiAgICAgICAgdGhpcy5mb3JtCiAgICAgICk7ICovCiAgICAgIC8vY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YS51c2VyKTsKICAgICAgLy9sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidXNlci10b2tlbiIsIHJlc3BvbnNlLmRhdGEudG9rZW4pOwogICAgICAvL3RoaXMuJHN0b3JlLmRpc3BhdGNoKCJ1c2VyIiwgcmVzcG9uc2UuZGF0YS51c2VyKTsKCiAgICAgIC8qIHRoaXMuJHJvdXRlci5wdXNoKCIvZGFzaGJvYXJkL2RlZmF1bHQiKTsgKi8KCiAgICB9CgogIH0KfTs="},{"version":3,"mappings":"AA0CA;AACA;EACAA,cADA;;EAEAC;IACA;MACAC,gBADA;MAEAC,gBAFA;MAGAC;QACAC,cADA;QAEAC,aAFA;QAGAC;MAHA,CAHA;MAQAC;IARA;EAUA,CAbA;;EAcAC;IACAC;MACA;IACA;;EAHA,CAdA;;EAmBAC;IACA;MACA;IACA;EACA,CAvBA;;EAyBAC;IACAC;MACA;IACA,CAHA;;IAIA;MACA,IACA,uBACA,kBADA,IAEA,uBAHA,EAIA;QACA;UACAC,WADA;UAEAC,mBAFA;UAGAC,wBAHA;UAIAC,WAJA;UAKAC,sBALA;UAMAC;YACAL;YACAA;UACA;QATA;QAYAM;UACAC,eADA;UAEAC;QAFA;MAIA,CArBA,MAqBA;QACA,mDACA;UACA;QACA,CAHA,EAIAC;UACA,eACAA,yCACAA,aADA,IAEAA,gBAHA;QAIA,CATA;MAWA;MAEA;AACA;AACA;AACA;MACA;MACA;MACA;;MAEA;;IACA;;EAjDA;AAzBA","names":["components","data","type","submitted","form","MA_DONVI","MS_THUE","SDT_NGUOI_DD","message","computed","loggedIn","created","methods","handleSubmit","toast","position","showConfirmButton","timer","timerProgressBar","didOpen","Toast","icon","title","error"],"sourceRoot":"src/pages/authentication","sources":["login.vue"],"sourcesContent":["<template>\n  <form\n    class=\"form-horizontal auth-form\"\n    @submit.prevent=\"handleSubmit\"\n    method=\"post\"\n  >\n    <div class=\"form-group\">\n      <input\n        v-model=\"form.MA_DONVI\"\n        type=\"text\"\n        class=\"form-control\"\n        id=\"exampleInputEmail1\"\n      />\n    </div>\n    <div class=\"form-group\">\n      <input type=\"text\" v-model=\"form.MS_THUE\" class=\"form-control\" />\n    </div>\n    <div class=\"form-group\">\n      <input type=\"text\" v-model=\"form.SDT_NGUOI_DD\" class=\"form-control\" />\n    </div>\n    <div class=\"form-terms\">\n      <div class=\"custom-control custom-checkbox mr-sm-2\">\n        <input\n          type=\"checkbox\"\n          class=\"custom-control-input\"\n          id=\"customControlAutosizing\"\n        />\n        <label class=\"custom-control-label\" for=\"customControlAutosizing\"\n          >Nhớ đăng nhập</label\n        >\n        <a href=\"#\" class=\"btn btn-default forgot-pass\">Quên mật khẩu</a>\n      </div>\n    </div>\n    <div class=\"form-button\">\n      <button class=\"btn btn-primary\" type=\"submit\" @click=\"login\">\n        Đăng nhập\n      </button>\n    </div>\n  </form>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  components: {},\n  data() {\n    return {\n      type: \"password\",\n      submitted: false,\n      form: {\n        MA_DONVI: null,\n        MS_THUE: null,\n        SDT_NGUOI_DD: null,\n      },\n      message: \"\",\n    };\n  },\n  computed: {\n    loggedIn() {\n      return this.$store.state.auth.status.loggedIn;\n    },\n  },\n  created() {\n    if (this.loggedIn) {\n      this.$router.push(\"/dashboard/default\");\n    }\n  },\n\n  methods: {\n    handleSubmit() {\n      this.submitted = true;\n    },\n    async login() {\n      if (\n        !this.form.MA_DONVI &&\n        !this.form.MS_THUE &&\n        !this.form.SDT_NGUOI_DD\n      ) {\n        const Toast = this.$swal.mixin({\n          toast: true,\n          position: \"top-end\",\n          showConfirmButton: false,\n          timer: 3000,\n          timerProgressBar: true,\n          didOpen: (toast) => {\n            toast.addEventListener(\"mouseenter\", this.$swal.stopTimer);\n            toast.addEventListener(\"mouseleave\", this.$swal.resumeTimer);\n          },\n        });\n\n        Toast.fire({\n          icon: \"warning\",\n          title: \"Bạn không thể đăng nhập nếu không có thông tin chính xác.\",\n        });\n      } else {\n        this.$store.dispatch(\"auth/login\", this.form).then(\n          () => {\n            this.$router.push(\"/dashboard/default\");\n          },\n          (error) => {\n            this.message =\n              (error.response && error.response.data) ||\n              error.message ||\n              error.toString();\n          }\n        );\n      }\n\n      /* let response = await axios.post(\n        `http://localhost:9999/api/users/mst/login`,\n        this.form\n      ); */\n      //console.log(response.data.user);\n      //localStorage.setItem(\"user-token\", response.data.token);\n      //this.$store.dispatch(\"user\", response.data.user);\n\n      /* this.$router.push(\"/dashboard/default\"); */\n    },\n  },\n};\n</script>"]}]}