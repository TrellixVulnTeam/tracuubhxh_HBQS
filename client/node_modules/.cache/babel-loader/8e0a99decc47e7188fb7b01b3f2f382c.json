{"remainingRequest":"E:\\CODE_APP\\TRACUUNO\\client\\node_modules\\babel-loader\\lib\\index.js!E:\\CODE_APP\\TRACUUNO\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\CODE_APP\\TRACUUNO\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\CODE_APP\\TRACUUNO\\client\\src\\pages\\authentication\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\CODE_APP\\TRACUUNO\\client\\src\\pages\\authentication\\login.vue","mtime":1658484317761},{"path":"E:\\CODE_APP\\TRACUUNO\\client\\babel.config.js","mtime":1624424366000},{"path":"E:\\CODE_APP\\TRACUUNO\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\CODE_APP\\TRACUUNO\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\CODE_APP\\TRACUUNO\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\CODE_APP\\TRACUUNO\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHt9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdHlwZTogInBhc3N3b3JkIiwKICAgICAgc3VibWl0dGVkOiBmYWxzZSwKICAgICAgZm9ybTogewogICAgICAgIE1BX0RPTlZJOiBudWxsLAogICAgICAgIE1TX1RIVUU6IG51bGwsCiAgICAgICAgU0RUX05HVU9JX0REOiBudWxsLAogICAgICAgIERJRU5fVEhPQUlfRE9OVkk6IG51bGwKICAgICAgfSwKICAgICAgbWVzc2FnZTogIiIsCiAgICAgIGNoZWNrX1NEVF9MT0dJTjogZmFsc2UKICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIGxvZ2dlZEluKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYXV0aC5zdGF0dXMubG9nZ2VkSW47CiAgICB9CgogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy5sb2dnZWRJbikgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2Rhc2hib2FyZC9kZWZhdWx0Iik7CiAgICB9CiAgfSwKCiAgbWV0aG9kczogewogICAgaGFuZGxlU3VibWl0KCkgewogICAgICB0aGlzLnN1Ym1pdHRlZCA9IHRydWU7CiAgICB9LAoKICAgIGFzeW5jIGxvZ2luKCkgewogICAgICAvL2NvbnNvbGUubG9nKHRoaXMuY2hlY2tfU0RUX0xPR0lOKQogICAgICBpZiAoIXRoaXMuZm9ybS5NQV9ET05WSSAmJiAhdGhpcy5mb3JtLk1TX1RIVUUgJiYgIXRoaXMuZm9ybS5TRFRfTkdVT0lfREQpIHsKICAgICAgICBjb25zdCBUb2FzdCA9IHRoaXMuJHN3YWwubWl4aW4oewogICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgdGltZXI6IDMwMDAsCiAgICAgICAgICB0aW1lclByb2dyZXNzQmFyOiB0cnVlLAogICAgICAgICAgZGlkT3BlbjogdG9hc3QgPT4gewogICAgICAgICAgICB0b2FzdC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWVudGVyIiwgdGhpcy4kc3dhbC5zdG9wVGltZXIpOwogICAgICAgICAgICB0b2FzdC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWxlYXZlIiwgdGhpcy4kc3dhbC5yZXN1bWVUaW1lcik7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgVG9hc3QuZmlyZSh7CiAgICAgICAgICBpY29uOiAid2FybmluZyIsCiAgICAgICAgICB0aXRsZTogIkLhuqFuIGtow7RuZyB0aOG7gyDEkcSDbmcgbmjhuq1wIG7hur91IGtow7RuZyBjw7MgdGjDtG5nIHRpbiBjaMOtbmggeMOhYy4iCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHRoaXMuY2hlY2tfU0RUX0xPR0lOID09IHRydWUpIHsKICAgICAgICAgIC8vYWxlcnQoJ29rJykKICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhdXRoL2xvZ2luMiIsIHRoaXMuZm9ybSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvZGFzaGJvYXJkL2RlZmF1bHQiKS5jYXRjaCgoKSA9PiB7fSk7CiAgICAgICAgICB9LCBlcnJvciA9PiB7CiAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IGVycm9yLnJlc3BvbnNlICYmIGVycm9yLnJlc3BvbnNlLmRhdGEgfHwgZXJyb3IubWVzc2FnZSB8fCBlcnJvci50b1N0cmluZygpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhdXRoL2xvZ2luIiwgdGhpcy5mb3JtKS50aGVuKCgpID0+IHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9kYXNoYm9hcmQvZGVmYXVsdCIpLmNhdGNoKCgpID0+IHt9KTsKICAgICAgICAgIH0sIGVycm9yID0+IHsKICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2UuZGF0YSB8fCBlcnJvci5tZXNzYWdlIHx8IGVycm9yLnRvU3RyaW5nKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgICAgLyogbGV0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdCgKICAgICAgICBgaHR0cDovL2xvY2FsaG9zdDo5OTk5L2FwaS91c2Vycy9tc3QvbG9naW5gLAogICAgICAgIHRoaXMuZm9ybQogICAgICApOyAqLwogICAgICAvL2NvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEudXNlcik7CiAgICAgIC8vbG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXItdG9rZW4iLCByZXNwb25zZS5kYXRhLnRva2VuKTsKICAgICAgLy90aGlzLiRzdG9yZS5kaXNwYXRjaCgidXNlciIsIHJlc3BvbnNlLmRhdGEudXNlcik7CgogICAgICAvKiB0aGlzLiRyb3V0ZXIucHVzaCgiL2Rhc2hib2FyZC9kZWZhdWx0Iik7ICovCgogICAgfQoKICB9Cn07"},{"version":3,"mappings":"AAoEA;EACAA,cADA;;EAEAC;IACA;MACAC,gBADA;MAEAC,gBAFA;MAGAC;QACAC,cADA;QAEAC,aAFA;QAGAC,kBAHA;QAIAC;MAJA,CAHA;MASAC,WATA;MAUAC;IAVA;EAYA,CAfA;;EAgBAC;IACAC;MACA;IACA;;EAHA,CAhBA;;EAqBAC;IACA;MACA;IACA;EACA,CAzBA;;EA2BAC;IACAC;MACA;IACA,CAHA;;IAIA;MACA;MACA,IACA,uBACA,kBADA,IAEA,uBAHA,EAIA;QACA;UACAC,WADA;UAEAC,mBAFA;UAGAC,wBAHA;UAIAC,WAJA;UAKAC,sBALA;UAMAC;YACAL;YACAA;UACA;QATA;QAYAM;UACAC,eADA;UAEAC;QAFA;MAIA,CArBA,MAqBA;QACA;UACA;UACA,oDACA;YACA;UACA,CAHA,EAIAC;YACA,eACAA,yCACAA,aADA,IAEAA,gBAHA;UAIA,CATA;QAWA,CAbA,MAaA;UACA,mDACA;YACA;UACA,CAHA,EAIAA;YACA,eACAA,yCACAA,aADA,IAEAA,gBAHA;UAIA,CATA;QAWA;MACA;MAEA;AACA;AACA;AACA;MACA;MACA;MACA;;MAEA;;IACA;;EAjEA;AA3BA","names":["components","data","type","submitted","form","MA_DONVI","MS_THUE","SDT_NGUOI_DD","DIEN_THOAI_DONVI","message","check_SDT_LOGIN","computed","loggedIn","created","methods","handleSubmit","toast","position","showConfirmButton","timer","timerProgressBar","didOpen","Toast","icon","title","error"],"sourceRoot":"src/pages/authentication","sources":["login.vue"],"sourcesContent":["<template>\n  <form\n    class=\"form-horizontal auth-form\"\n    @submit.prevent=\"handleSubmit\"\n    method=\"post\"\n  >\n    <div class=\"form-group\">\n      <input\n        v-model=\"form.MA_DONVI\"\n        type=\"text\"\n        class=\"form-control\"\n        id=\"exampleInputEmail1\"\n        placeholder=\"Mã đơn vị\"\n      />\n    </div>\n    <div class=\"form-group\">\n      <input\n        type=\"text\"\n        v-model=\"form.MS_THUE\"\n        class=\"form-control\"\n        placeholder=\"Mã số thuế\"\n      />\n    </div>\n    <template v-if=\"check_SDT_LOGIN == false\">\n      <div class=\"form-group\">\n        <input\n          type=\"text\"\n          v-model=\"form.SDT_NGUOI_DD\"\n          class=\"form-control\"\n          placeholder=\"Số điện thoại người đại diện\"\n        />\n      </div>\n    </template>\n    <template v-else>\n      <div class=\"form-group\">\n        <input\n          type=\"text\"\n          v-model=\"form.DIEN_THOAI_DONVI\"\n          class=\"form-control\"\n          placeholder=\"Số điện thoại đơn vị\"\n        />\n      </div>\n    </template>\n\n    <div class=\"form-terms\">\n      <div class=\"custom-control custom-checkbox mr-sm-2\">\n        <input\n          v-model=\"check_SDT_LOGIN\"\n          type=\"checkbox\"\n          value=\"1\"\n          class=\"custom-control-input\"\n          id=\"customControlAutosizing\"\n        />\n        <label class=\"custom-control-label\" for=\"customControlAutosizing\"\n          >Dùng điện thoại đơn vị đăng nhập</label\n        >\n      </div>\n    </div>\n    <div class=\"form-button\">\n      <button class=\"btn btn-primary\" type=\"submit\" @click=\"login\">\n        Đăng nhập\n      </button>\n    </div>\n  </form>\n</template>\n\n<script>\n\nexport default {\n  components: {},\n  data() {\n    return {\n      type: \"password\",\n      submitted: false,\n      form: {\n        MA_DONVI: null,\n        MS_THUE: null,\n        SDT_NGUOI_DD: null,\n        DIEN_THOAI_DONVI: null,\n      },\n      message: \"\",\n      check_SDT_LOGIN: false,\n    };\n  },\n  computed: {\n    loggedIn() {\n      return this.$store.state.auth.status.loggedIn;\n    },\n  },\n  created() {\n    if (this.loggedIn) {\n      this.$router.push(\"/dashboard/default\");\n    }\n  },\n\n  methods: {\n    handleSubmit() {\n      this.submitted = true;\n    },\n    async login() {\n      //console.log(this.check_SDT_LOGIN)\n      if (\n        !this.form.MA_DONVI &&\n        !this.form.MS_THUE &&\n        !this.form.SDT_NGUOI_DD\n      ) {\n        const Toast = this.$swal.mixin({\n          toast: true,\n          position: \"top-end\",\n          showConfirmButton: false,\n          timer: 3000,\n          timerProgressBar: true,\n          didOpen: (toast) => {\n            toast.addEventListener(\"mouseenter\", this.$swal.stopTimer);\n            toast.addEventListener(\"mouseleave\", this.$swal.resumeTimer);\n          },\n        });\n\n        Toast.fire({\n          icon: \"warning\",\n          title: \"Bạn không thể đăng nhập nếu không có thông tin chính xác.\",\n        });\n      } else {\n        if (this.check_SDT_LOGIN == true) {\n          //alert('ok')\n          this.$store.dispatch(\"auth/login2\", this.form).then(\n            () => {\n              this.$router.push(\"/dashboard/default\").catch(() => {});\n            },\n            (error) => {\n              this.message =\n                (error.response && error.response.data) ||\n                error.message ||\n                error.toString();\n            }\n          );\n        } else {\n          this.$store.dispatch(\"auth/login\", this.form).then(\n            () => {\n              this.$router.push(\"/dashboard/default\").catch(() => {});\n            },\n            (error) => {\n              this.message =\n                (error.response && error.response.data) ||\n                error.message ||\n                error.toString();\n            }\n          );\n        }\n      }\n\n      /* let response = await axios.post(\n        `http://localhost:9999/api/users/mst/login`,\n        this.form\n      ); */\n      //console.log(response.data.user);\n      //localStorage.setItem(\"user-token\", response.data.token);\n      //this.$store.dispatch(\"user\", response.data.user);\n\n      /* this.$router.push(\"/dashboard/default\"); */\n    },\n  },\n};\n</script>"]}]}