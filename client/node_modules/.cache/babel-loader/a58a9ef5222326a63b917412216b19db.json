{"remainingRequest":"E:\\PROJECT\\TRACUUNO\\client\\node_modules\\babel-loader\\lib\\index.js!E:\\PROJECT\\TRACUUNO\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\PROJECT\\TRACUUNO\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\PROJECT\\TRACUUNO\\client\\src\\pages\\authentication\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\PROJECT\\TRACUUNO\\client\\src\\pages\\authentication\\login.vue","mtime":1658215429587},{"path":"E:\\PROJECT\\TRACUUNO\\client\\babel.config.js","mtime":1624424366000},{"path":"E:\\PROJECT\\TRACUUNO\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\PROJECT\\TRACUUNO\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\PROJECT\\TRACUUNO\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\PROJECT\\TRACUUNO\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHt9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdHlwZTogInBhc3N3b3JkIiwKICAgICAgc3VibWl0dGVkOiBmYWxzZSwKICAgICAgZm9ybTogewogICAgICAgIG1hc290aHVlOiBudWxsLAogICAgICAgIG1hZG9udmk6IG51bGwKICAgICAgfQogICAgfTsKICB9LAoKICBjcmVhdGVkKCkgewogICAgLy8gcmVzZXQgbG9naW4gc3RhdHVzIGZvciBKV1QKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhdXRoZW50aWNhdGlvbi9sb2dvdXQiKTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTdWJtaXQoKSB7CiAgICAgIHRoaXMuc3VibWl0dGVkID0gdHJ1ZTsKICAgIH0sCgogICAgYXN5bmMgbG9naW4oKSB7CiAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoYGh0dHA6Ly9sb2NhbGhvc3Q6OTk5OS9hcGkvdXNlcnMvbXN0L2xvZ2luYCwgdGhpcy5mb3JtKTsgLy9jb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLnVzZXIpOwoKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXItdG9rZW4iLCByZXNwb25zZS5kYXRhLnRva2VuKTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInVzZXIiLCByZXNwb25zZS5kYXRhLnVzZXIpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2Rhc2hib2FyZC9kZWZhdWx0Iik7CiAgICB9CgogIH0KfTs="},{"version":3,"mappings":"AA6CA;AACA;EACAA,cADA;;EAEAC;IACA;MACAC,gBADA;MAEAC,gBAFA;MAGAC;QACAC,cADA;QAEAC;MAFA;IAHA;EAQA,CAXA;;EAYAC;IACA;IACA;EACA,CAfA;;EAgBAC;IACAC;MACA;IACA,CAHA;;IAIA;MACA,gCACA,2CADA,EAEA,SAFA,EADA,CAKA;;MACAC;MACA;MAEA;IACA;;EAdA;AAhBA","names":["components","data","type","submitted","form","masothue","madonvi","created","methods","handleSubmit","localStorage"],"sourceRoot":"src/pages/authentication","sources":["login.vue"],"sourcesContent":["<template>\n  <form\n    class=\"form-horizontal auth-form\"\n    @submit.prevent=\"handleSubmit\"\n    method=\"post\"\n  >\n    <div class=\"form-group\">\n      <input\n        v-model=\"form.masothue\"\n        name=\"login[username]\"\n        type=\"text\"\n        class=\"form-control\"\n        id=\"exampleInputEmail1\"\n      />\n    </div>\n    <div class=\"form-group\">\n      <input\n        :type=\"type\"\n        v-model=\"form.madonvi\"\n        name=\"login[password]\"\n        class=\"form-control\"\n      />\n    </div>\n    <div class=\"form-terms\">\n      <div class=\"custom-control custom-checkbox mr-sm-2\">\n        <input\n          type=\"checkbox\"\n          class=\"custom-control-input\"\n          id=\"customControlAutosizing\"\n        />\n        <label class=\"custom-control-label\" for=\"customControlAutosizing\"\n          >Nhớ đăng nhập</label\n        >\n        <a href=\"#\" class=\"btn btn-default forgot-pass\">Quên mật khẩu</a>\n      </div>\n    </div>\n    <div class=\"form-button\">\n      <button class=\"btn btn-primary\" type=\"submit\" @click=\"login\">\n        Đăng nhập\n      </button>\n    </div>\n  </form>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  components: {},\n  data() {\n    return {\n      type: \"password\",\n      submitted: false,\n      form: {\n        masothue: null,\n        madonvi: null,\n      },\n    };\n  },\n  created() {\n    // reset login status for JWT\n    this.$store.dispatch(\"authentication/logout\");\n  },\n  methods: {\n    handleSubmit() {\n      this.submitted = true;\n    },\n    async login() {\n      let response = await axios.post(\n        `http://localhost:9999/api/users/mst/login`,\n        this.form\n      );\n      //console.log(response.data.user);\n      localStorage.setItem(\"user-token\", response.data.token);\n      this.$store.dispatch(\"user\", response.data.user);\n\n      this.$router.push(\"/dashboard/default\");\n    },    \n  },\n};\n</script>"]}]}