{"remainingRequest":"E:\\PROJECT\\TRACUUNO\\client\\node_modules\\babel-loader\\lib\\index.js!E:\\PROJECT\\TRACUUNO\\client\\src\\auth\\index.js","dependencies":[{"path":"E:\\PROJECT\\TRACUUNO\\client\\src\\auth\\index.js","mtime":1624424366000},{"path":"E:\\PROJECT\\TRACUUNO\\client\\babel.config.js","mtime":1624424366000},{"path":"E:\\PROJECT\\TRACUUNO\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\PROJECT\\TRACUUNO\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJFOi9QUk9KRUNUL1RSQUNVVU5PL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkuanMiOwppbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gJ2V2ZW50cyc7CmNvbnN0IHVzZXJsb2dpbiA9ICdpc2xvZ2dlZCc7CmNvbnN0IGxvZ2luRXhwaXJ5S2V5ID0gJ3Rva2VuRXhwaXJ5JzsKY29uc3QgVXNlcmluZm8gPSAndXNlcmluZm8nOwpjb25zdCBsb2NhbFN0b3JhZ2VLZXkgPSAnbG9nZ2VkSW4nOwoKY2xhc3MgQXV0aCBleHRlbmRzIEV2ZW50RW1pdHRlciB7CiAgY29uc3RydWN0b3IoLi4uYXJncykgewogICAgc3VwZXIoLi4uYXJncyk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJhdXRoVG9rZW4iLCBudWxsKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgInVzZXJQcm9maWxlIiwgbnVsbCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJ0b2tlbkV4cGlyeSIsIG51bGwpOwogIH0KCiAgLy8gTG9naW4gV2l0aCBGaXJlYmFzZQogIGxvY2FsTG9naW4oYXV0aFJlc3VsdCkgewogICAgdGhpcy50b2tlbkV4cGlyeSA9IG5ldyBEYXRlKCk7CiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShsb2dpbkV4cGlyeUtleSwgdGhpcy50b2tlbkV4cGlyeSk7CiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh1c2VybG9naW4sICd0cnVlJyk7CiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShsb2NhbFN0b3JhZ2VLZXksICd0cnVlJyk7CiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShVc2VyaW5mbywgSlNPTi5zdHJpbmdpZnkoewogICAgICBkaXNwbGF5TmFtZTogYXV0aFJlc3VsdC51c2VyLmRpc3BsYXlOYW1lLAogICAgICBlbWFpbDogYXV0aFJlc3VsdC51c2VyLmVtYWlsLAogICAgICBwaG90b1VSTDogYXV0aFJlc3VsdC51c2VyLnBob3RvVVJMCiAgICB9KSk7CiAgfQoKICBMb2dvdXQoKSB7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShsb2dpbkV4cGlyeUtleSk7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh1c2VybG9naW4pOwogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oVXNlcmluZm8pOwogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0obG9jYWxTdG9yYWdlS2V5KTsKICB9CgogIGlzQXV0aGVudGljYXRlZCgpIHsKICAgIHJldHVybiBuZXcgRGF0ZShEYXRlLm5vdygpKSAhPSBuZXcgRGF0ZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShsb2dpbkV4cGlyeUtleSkpICYmIGxvY2FsU3RvcmFnZS5nZXRJdGVtKHVzZXJsb2dpbikgPT09ICd0cnVlJzsKICB9CgogIGlzQXV0aGVudGljYXRlZFVzZXIoKSB7CiAgICByZXR1cm4gbmV3IERhdGUoRGF0ZS5ub3coKSkgPCBuZXcgRGF0ZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShsb2dpbkV4cGlyeUtleSkpICYmIGxvY2FsU3RvcmFnZS5nZXRJdGVtKGxvY2FsU3RvcmFnZUtleSkgPT09ICd0cnVlJzsKICB9Cgp9CgpleHBvcnQgZGVmYXVsdCBuZXcgQXV0aCgpOw=="},{"version":3,"names":["EventEmitter","userlogin","loginExpiryKey","Userinfo","localStorageKey","Auth","localLogin","authResult","tokenExpiry","Date","localStorage","setItem","JSON","stringify","displayName","user","email","photoURL","Logout","removeItem","isAuthenticated","now","getItem","isAuthenticatedUser"],"sources":["E:/PROJECT/TRACUUNO/client/src/auth/index.js"],"sourcesContent":["import EventEmitter from 'events';\nconst userlogin = 'islogged';\nconst loginExpiryKey = 'tokenExpiry';\nconst Userinfo = 'userinfo';\nconst localStorageKey = 'loggedIn';\n\nclass Auth extends EventEmitter {\n    authToken = null\n    userProfile = null\n    tokenExpiry = null\n        // Login With Firebase\n    localLogin(authResult) {\n        this.tokenExpiry = new Date();\n        localStorage.setItem(loginExpiryKey, this.tokenExpiry);\n        localStorage.setItem(userlogin, 'true');\n        localStorage.setItem(localStorageKey, 'true');\n        localStorage.setItem(Userinfo, JSON.stringify({\n            displayName: authResult.user.displayName,\n            email: authResult.user.email,\n            photoURL: authResult.user.photoURL,\n        }));\n    }\n    Logout() {\n        localStorage.removeItem(loginExpiryKey);\n        localStorage.removeItem(userlogin);\n        localStorage.removeItem(Userinfo);\n        localStorage.removeItem(localStorageKey);\n\n    }\n\n    isAuthenticated() {\n        return (\n            new Date(Date.now()) != new Date(localStorage.getItem(loginExpiryKey)) &&\n            localStorage.getItem(userlogin) === 'true'\n        );\n    }\n    isAuthenticatedUser() {\n        return (\n            new Date(Date.now()) < new Date(localStorage.getItem(loginExpiryKey)) &&\n            localStorage.getItem(localStorageKey) === 'true'\n        );\n    }\n\n}\n\nexport default new Auth();"],"mappings":";AAAA,OAAOA,YAAP,MAAyB,QAAzB;AACA,MAAMC,SAAS,GAAG,UAAlB;AACA,MAAMC,cAAc,GAAG,aAAvB;AACA,MAAMC,QAAQ,GAAG,UAAjB;AACA,MAAMC,eAAe,GAAG,UAAxB;;AAEA,MAAMC,IAAN,SAAmBL,YAAnB,CAAgC;EAAA;IAAA;;IAAA,mCAChB,IADgB;;IAAA,qCAEd,IAFc;;IAAA,qCAGd,IAHc;EAAA;;EAIxB;EACJM,UAAU,CAACC,UAAD,EAAa;IACnB,KAAKC,WAAL,GAAmB,IAAIC,IAAJ,EAAnB;IACAC,YAAY,CAACC,OAAb,CAAqBT,cAArB,EAAqC,KAAKM,WAA1C;IACAE,YAAY,CAACC,OAAb,CAAqBV,SAArB,EAAgC,MAAhC;IACAS,YAAY,CAACC,OAAb,CAAqBP,eAArB,EAAsC,MAAtC;IACAM,YAAY,CAACC,OAAb,CAAqBR,QAArB,EAA+BS,IAAI,CAACC,SAAL,CAAe;MAC1CC,WAAW,EAAEP,UAAU,CAACQ,IAAX,CAAgBD,WADa;MAE1CE,KAAK,EAAET,UAAU,CAACQ,IAAX,CAAgBC,KAFmB;MAG1CC,QAAQ,EAAEV,UAAU,CAACQ,IAAX,CAAgBE;IAHgB,CAAf,CAA/B;EAKH;;EACDC,MAAM,GAAG;IACLR,YAAY,CAACS,UAAb,CAAwBjB,cAAxB;IACAQ,YAAY,CAACS,UAAb,CAAwBlB,SAAxB;IACAS,YAAY,CAACS,UAAb,CAAwBhB,QAAxB;IACAO,YAAY,CAACS,UAAb,CAAwBf,eAAxB;EAEH;;EAEDgB,eAAe,GAAG;IACd,OACI,IAAIX,IAAJ,CAASA,IAAI,CAACY,GAAL,EAAT,KAAwB,IAAIZ,IAAJ,CAASC,YAAY,CAACY,OAAb,CAAqBpB,cAArB,CAAT,CAAxB,IACAQ,YAAY,CAACY,OAAb,CAAqBrB,SAArB,MAAoC,MAFxC;EAIH;;EACDsB,mBAAmB,GAAG;IAClB,OACI,IAAId,IAAJ,CAASA,IAAI,CAACY,GAAL,EAAT,IAAuB,IAAIZ,IAAJ,CAASC,YAAY,CAACY,OAAb,CAAqBpB,cAArB,CAAT,CAAvB,IACAQ,YAAY,CAACY,OAAb,CAAqBlB,eAArB,MAA0C,MAF9C;EAIH;;AAnC2B;;AAuChC,eAAe,IAAIC,IAAJ,EAAf"}]}