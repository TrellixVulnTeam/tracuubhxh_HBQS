{"remainingRequest":"E:\\PROJECT\\TRACUUNO\\client\\node_modules\\babel-loader\\lib\\index.js!E:\\PROJECT\\TRACUUNO\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\PROJECT\\TRACUUNO\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\PROJECT\\TRACUUNO\\client\\src\\components\\commonTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\PROJECT\\TRACUUNO\\client\\src\\components\\commonTable.vue","mtime":1624424366000},{"path":"E:\\PROJECT\\TRACUUNO\\client\\babel.config.js","mtime":1624424366000},{"path":"E:\\PROJECT\\TRACUUNO\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\PROJECT\\TRACUUNO\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\PROJECT\\TRACUUNO\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\PROJECT\\TRACUUNO\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiBbInNlbGVjdE1vZGUiLCAiaXRlbXMiLCAidGFibGVmaWVsZHMiLCAiZmlsdGVyIiwgImN1cnJlbnRQYWdlIiwgInBlclBhZ2UiLCAidG90YWxSb3dzIiwgInNlbGVjdGFibGUiXSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVkaXQ6IG51bGwsCiAgICAgIGFkZDogZmFsc2UsCiAgICAgIGl0ZW06ICIiLAogICAgICBpbmRleDogbnVsbCwKICAgICAgdG90YWxSb3c6ICIiLAogICAgICBzYXZlOiBmYWxzZSwKICAgICAgcGFnZTogdGhpcy5jdXJyZW50UGFnZQogICAgfTsKICB9LAoKICBtb3VudGVkKCkgewogICAgdGhpcy50b3RhbFJvdyA9IHRoaXMudG90YWxSb3dzOwogIH0sCgogIGNvbXB1dGVkOiB7CiAgICAvL3NlbGVjdGVkUm93cygpIHsKICAgIC8vICByZXR1cm4gdGhpcy5pdGVtcy5maWx0ZXIoaXRlbSA9PiBpdGVtLmRlbGV0ZSk7CiAgICAvL30sCiAgICBzb3J0T3B0aW9ucygpIHsKICAgICAgcmV0dXJuIHRoaXMudGFibGVmaWVsZHMuZmlsdGVyKGYgPT4gZi5zb3J0YWJsZSkubWFwKGYgPT4gewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB0ZXh0OiBmLmxhYmVsLAogICAgICAgICAgdmFsdWU6IGYua2V5CiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAoKICAgIHNlbGVjdGVkUm93cygpIHsKICAgICAgcmV0dXJuIHRoaXMuaXRlbXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5kZWxldGUpOwogICAgfQoKICB9LAoKICBtb3VudGVkKCkgewogICAgLy8gU2V0IHRoZSBpbml0aWFsIG51bWJlciBvZiBpdGVtcwogICAgdGhpcy50b3RhbFJvdyA9IHRoaXMuaXRlbXMubGVuZ3RoOwogIH0sCgogIG1ldGhvZHM6IHsKICAgIGdldEltZ1VybChwYXRoKSB7CiAgICAgIHJldHVybiByZXF1aXJlKCJAL2Fzc2V0cy9pbWFnZXMvZGlnaXRhbC1wcm9kdWN0LyIgKyBwYXRoKTsKICAgIH0sCgogICAgYWRkUmVjb3JkKCkgewogICAgICB0aGlzLmFkZCA9IHRydWU7CiAgICAgIGNvbnNvbGUubG9nKCJpdGVtcyIsIHRoaXMuaXRlbXNbMF0pOwogICAgICB0aGlzLml0ZW1zLnVuc2hpZnQoewogICAgICAgIGlkOiAiIiwKICAgICAgICBpbnZvaWNlOiAiIiwKICAgICAgICBkYXRlOiAiIiwKICAgICAgICBzaGlwcGluZzogIiIsCiAgICAgICAgYW1vdW50OiAiIiwKICAgICAgICB0YXg6ICIiLAogICAgICAgIHRvdGFsOiAiIiwKICAgICAgICBhY3Rpb25zOiAiIgogICAgICB9KTsKICAgICAgdGhpcy5lZGl0ID0gIiI7CiAgICAgIHRoaXMuc2F2ZSA9IHRydWU7CiAgICB9LAoKICAgIHNlYXJjaERhdGEoKSB7CiAgICAgIHRoaXMuYWRkID0gZmFsc2U7CiAgICAgIHRoaXMuaXRlbXMuc3BsaWNlKDAsIDEpOwogICAgfSwKCiAgICBvbkVkaXQoaWQpIHsKICAgICAgaWYgKGlkICE9PSAidW5kZWZpbmVkIikgewogICAgICAgIHRoaXMuZWRpdCA9IHRoaXMuZWRpdCAhPT0gaWQgPyBpZCA6IG51bGw7CiAgICAgIH0KICAgIH0sCgogICAgb25TYXZlKGlkKSB7CiAgICAgIHRoaXMuc2F2ZSA9IGZhbHNlOwogICAgICB0aGlzLmVkaXQgPSAiIjsKICAgIH0sCgogICAgZG9DYW5jZWwoaWQpIHsKICAgICAgdGhpcy5lZGl0ID0gIiI7CiAgICAgIHRoaXMuaXRlbSA9ICIiOwogICAgfSwKCiAgICBkZWxldGVSb3coaW5kZXgpIHsKICAgICAgdGhpcy5pdGVtcy5zcGxpY2UodGhpcy5pbmRleCwgMSk7CiAgICAgIHRoaXMuc2VsZWN0ZWRSb3dzLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgdGhpcy4kZGVsZXRlKGl0ZW0sICJzZWxlY3RlZCIpOwogICAgICB9KTsKICAgIH0sCgogICAgb25GaWx0ZXJlZChmaWx0ZXJlZEl0ZW1zKSB7CiAgICAgIC8vIFRyaWdnZXIgcGFnaW5hdGlvbiB0byB1cGRhdGUgdGhlIG51bWJlciBvZiBidXR0b25zL3BhZ2VzIGR1ZSB0byBmaWx0ZXJpbmcKICAgICAgdGhpcy50b3RhbFJvd3MgPSBmaWx0ZXJlZEl0ZW1zLmxlbmd0aDsgLy8gIHRoaXMuY3VycmVudFBhZ2UgPSAxOwogICAgfSwKCiAgICByb3dTZWxlY3RlZChpdGVtKSB7CiAgICAgIGlmIChpdGVtWzBdKSB7CiAgICAgICAgdGhpcy5lZGl0ID0gdGhpcy5lZGl0ICE9PSBpdGVtWzBdLmlkID8gaXRlbVswXS5pZCA6IG51bGw7CiAgICAgIH0KICAgIH0sCgogICAgY2xlYXJTZWxlY3RlZCgpIHsKICAgICAgdGhpcy5zZWxlY3RlZFJvd3MuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICB0aGlzLnNlbGVjdGVkUm93cy5zcGxpY2UoaXRlbSwgMSk7CiAgICAgICAgdGhpcy4kZGVsZXRlKGl0ZW0sICJkZWxldGUiKTsKICAgICAgfSk7CiAgICB9CgogIH0KfTs="},{"version":3,"mappings":"AA6IA;EACAA,QACA,YADA,EAEA,OAFA,EAGA,aAHA,EAIA,QAJA,EAKA,aALA,EAMA,SANA,EAOA,WAPA,EAQA,YARA,CADA;;EAWAC;IACA;MACAC,UADA;MAEAC,UAFA;MAGAC,QAHA;MAIAC,WAJA;MAKAC,YALA;MAMAC,WANA;MAOAC;IAPA;EASA,CArBA;;EAsBAC;IACA;EACA,CAxBA;;EAyBAC;IACA;IACA;IACA;IACAC;MACA,wBACAC,MADA,CACAC,eADA,EAEAC,GAFA,CAEAD;QACA;UAAAE;UAAAC;QAAA;MACA,CAJA;IAKA,CAVA;;IAWAC;MACA;IACA;;EAbA,CAzBA;;EAwCAR;IACA;IACA;EACA,CA3CA;;EA4CAS;IACAC;MACA;IACA,CAHA;;IAIAC;MACA;MACAC;MACA;QACAC,MADA;QAEAC,WAFA;QAGAC,QAHA;QAIAC,YAJA;QAKAC,UALA;QAMAC,OANA;QAOAC,SAPA;QAQAC;MARA;MAUA;MACA;IACA,CAnBA;;IAoBAC;MACA;MACA;IACA,CAvBA;;IAwBAC;MACA;QACA;MACA;IACA,CA5BA;;IA6BAC;MACA;MACA;IACA,CAhCA;;IAiCAC;MACA;MACA;IACA,CApCA;;IAqCAC;MACA;MACA;QACA;MACA,CAFA;IAGA,CA1CA;;IA2CAC;MACA;MACA,sCAFA,CAGA;IACA,CA/CA;;IAgDAC;MACA;QACA;MACA;IACA,CApDA;;IAqDAC;MACA;QACA;QACA;MACA,CAHA;IAIA;;EA1DA;AA5CA","names":["props","data","edit","add","item","index","totalRow","save","page","mounted","computed","sortOptions","filter","f","map","text","value","selectedRows","methods","getImgUrl","addRecord","console","id","invoice","date","shipping","amount","tax","total","actions","searchData","onEdit","onSave","doCancel","deleteRow","onFiltered","rowSelected","clearSelected"],"sourceRoot":"src/components","sources":["commonTable.vue"],"sourcesContent":["<template>\n  <div class=\"card-datatable table-responsive pt-0\">\n    <div>\n      <b-modal id=\"modal-2\" title=\"Confirmation\" @ok=\"deleteRow()\">\n        <p class=\"my-4\">Are you sure!</p>\n      </b-modal>\n    </div>\n    <b-table\n      :select-mode=\"selectMode\"\n      class=\"text-center\"\n      show-empty\n      striped\n      hover\n      head-variant=\"light\"\n      bordered\n      stacked=\"md\"\n      :items=\"items\"\n      :fields=\"tablefields\"\n      :filter=\"filter\"\n      :current-page=\"currentPage\"\n      :per-page=\"perPage\"\n      @filtered=\"onFiltered\"\n      ref=\"selectableTable\"\n      :selectable=\"selectable\"\n      @row-selected=\"rowSelected\"\n    >\n      <template\n        v-for=\"(field, index) in tablefields\"\n        :slot=\"field.key\"\n        slot-scope=\"data\"\n      >\n        <b-form-input\n          :key=\"index\"\n          class=\"border-0 no-shadow p-1\"\n          type=\"text\"\n          v-model=\"data.item[key]\"\n        ></b-form-input>\n      </template>\n      <!-- delete row starts -->\n      <template v-slot:head(delete)>\n        <b-button\n          variant=\"danger\"\n          :disabled=\"selectedRows.length === 0\"\n          v-b-modal.modal-1\n          @click=\"index =index\"\n          >Delete</b-button\n        >\n      </template>\n      <template v-slot:cell(delete)=\"{ item, field: { key } }\">\n        <b-checkbox v-model=\"item[key]\"></b-checkbox>\n      </template>\n      <!-- delete row ends -->\n      <template v-slot:cell()=\"{ value, item, field: { key } }\">\n        <template v-if=\"edit != item.id\">{{ value }}</template>\n        <b-form-input v-else v-model=\"item[key]\" />\n      </template>\n      <template #cell(image)=\"field\">\n        <img height=\"50px\" :src=\"getImgUrl(field.item.image)\" width=\"50px\" />\n      </template>\n      <template v-slot:cell(actions)=\"{ item: { id } }\">\n        <feather\n          @click=\"onEdit(id)\"\n          v-if=\"edit != id && id !== null\"\n          type=\"edit-2\"\n          stroke=\"#4050F6\"\n          stroke-width=\"1\"\n          size=\"18px\"\n          fill=\"#4050F6\"\n          stroke-linejoin=\"round\"\n        ></feather>\n        <feather\n          v-if=\"edit === id && id !== ''\"\n          size=\"18px\"\n          stroke=\"#39CCC6\"\n          stroke-width=\"5\"\n          type=\"check\"\n          @click=\"onSave(id)\"\n        ></feather>\n        <feather\n          v-if=\"edit != id\"\n          type=\"trash-2\"\n          stroke=\"#F72E9F\"\n          fill=\"#F72E9F\"\n          size=\"18px\"\n          v-b-modal.modal-2\n          @click=\"index = item.index\"\n        ></feather>\n        <feather\n          stroke=\"#F7299D\"\n          size=\"18px\"\n          stroke-width=\"5\"\n          v-if=\"edit === id && id !== ''\"\n          type=\"x\"\n          @click=\"doCancel(id)\"\n        ></feather>\n        <feather\n          stroke=\"#F7299D\"\n          size=\"18px\"\n          stroke-width=\"5\"\n          v-if=\"save && id == ''\"\n          type=\"save\"\n          @click=\"onSave(id)\"\n        ></feather>\n      </template>\n      <template v-slot:head(actions)>\n        <feather\n          v-if=\"!add\"\n          type=\"plus\"\n          stroke=\"#4050F6\"\n          stroke-width=\"6\"\n          size=\"22px\"\n          fill=\"#4050F6\"\n          @click=\"addRecord()\"\n        ></feather>\n        <feather\n          v-else\n          type=\"search\"\n          stroke-width=\"6\"\n          size=\"22px\"\n          @click=\"searchData()\"\n        ></feather>\n      </template>\n    </b-table>\n    <b-col md=\"6\" class=\"my-1\">\n      <b-pagination\n        v-model=\"currentPage\"\n        :total-rows=\"totalRow\"\n        :per-page=\"perPage\"\n        aria-controls=\"my-table\"\n        class=\"mt-4\"\n        first-text=\"First\"\n        prev-text=\"Prev\"\n        next-text=\"Next\"\n        last-text=\"Last\"\n      >\n      </b-pagination>\n    </b-col>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: [\n    \"selectMode\",\n    \"items\",\n    \"tablefields\",\n    \"filter\",\n    \"currentPage\",\n    \"perPage\",\n    \"totalRows\",\n    \"selectable\"\n  ],\n  data() {\n    return {\n      edit: null,\n      add: false,\n      item: \"\",\n      index: null,\n      totalRow: \"\",\n      save: false,\n      page: this.currentPage,\n    };\n  },\n  mounted() {\n    this.totalRow = this.totalRows;\n  },\n  computed: {\n    //selectedRows() {\n    //  return this.items.filter(item => item.delete);\n    //},\n    sortOptions() {\n      return this.tablefields\n        .filter(f => f.sortable)\n        .map(f => {\n          return { text: f.label, value: f.key };\n        });\n    },\n    selectedRows() {\n      return this.items.filter(item => item.delete);\n    }\n  },\n  mounted() {\n    // Set the initial number of items\n    this.totalRow = this.items.length;\n  },\n  methods: {\n    getImgUrl(path) {\n      return require(\"@/assets/images/digital-product/\" + path);\n    },\n    addRecord() {\n      this.add = true;\n      console.log(\"items\", this.items[0]);\n      this.items.unshift({\n        id: \"\",\n        invoice: \"\",\n        date: \"\",\n        shipping: \"\",\n        amount: \"\",\n        tax: \"\",\n        total: \"\",\n        actions: \"\"\n      });\n      this.edit = \"\";\n      this.save = true;\n    },\n    searchData() {\n      this.add = false;\n      this.items.splice(0, 1);\n    },\n    onEdit(id) {\n      if (id !== \"undefined\") {\n        this.edit = this.edit !== id ? id : null;\n      }\n    },\n    onSave(id) {\n      this.save = false;\n      this.edit = \"\";\n    },\n    doCancel(id) {\n      this.edit = \"\";\n      this.item = \"\";\n    },\n    deleteRow(index) {\n      this.items.splice(this.index, 1);\n      this.selectedRows.forEach(item => {\n        this.$delete(item, \"selected\");\n      });\n    },\n    onFiltered(filteredItems) {\n      // Trigger pagination to update the number of buttons/pages due to filtering\n      this.totalRows = filteredItems.length;\n      //  this.currentPage = 1;\n    },\n    rowSelected(item) {\n      if (item[0]) {\n        this.edit = this.edit !== item[0].id ? item[0].id : null;\n      }\n    },\n    clearSelected() {\n      this.selectedRows.forEach(item => {\n        this.selectedRows.splice(item, 1);\n        this.$delete(item, \"delete\");\n      });\n    }\n  }\n};\n</script>"]}]}