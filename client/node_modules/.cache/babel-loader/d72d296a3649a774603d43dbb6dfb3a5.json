{"remainingRequest":"E:\\PROJECT\\TRACUUNO\\node_modules\\babel-loader\\lib\\index.js!E:\\PROJECT\\TRACUUNO\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\PROJECT\\TRACUUNO\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\PROJECT\\TRACUUNO\\src\\pages\\media.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\PROJECT\\TRACUUNO\\src\\pages\\media.vue","mtime":1625295589000},{"path":"E:\\PROJECT\\TRACUUNO\\babel.config.js","mtime":1624424366000},{"path":"E:\\PROJECT\\TRACUUNO\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\PROJECT\\TRACUUNO\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\PROJECT\\TRACUUNO\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\PROJECT\\TRACUUNO\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly9pbXBvcnQgQm9keSBmcm9tICIuLi9jb21wb25lbnRzL2JvZHkudnVlIjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogey8vQm9keTogQm9keSwKICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goIm1lZGlhL2dldE1lZGlhIik7CiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNpbmdsZWRyb3B6b25lT3B0aW9uczogewogICAgICAgIHVybDogImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MCIsCiAgICAgICAgdGh1bWJuYWlsV2lkdGg6IDE1MCwKICAgICAgICBtYXhGaWxlczogMSwKICAgICAgICBtYXhGaWxlc2l6ZTogMiwKICAgICAgICBhZGRSZW1vdmVMaW5rczogdHJ1ZSwKICAgICAgICBkaWN0RGVmYXVsdE1lc3NhZ2U6ICI8aSBjbGFzcz0nZmFzIGZhLWNsb3VkLXVwbG9hZC1hbHQnIGFyaWEtaGlkZGVuPSd0cnVlJz48L2k+PGg2PkRyb3AgZmlsZXMgaGVyZSBvciBjbGljayB0byB1cGxvYWQuPC9oNj4iCiAgICAgIH0sCiAgICAgIHRhYmxlZmllbGRzOiBbewogICAgICAgIGtleTogImRlbGV0ZSIKICAgICAgfSwgewogICAgICAgIGtleTogImltYWdlIiwKICAgICAgICBsYWJlbDogIkltYWdlIiwKICAgICAgICBzb3J0YWJsZTogZmFsc2UKICAgICAgfSwgewogICAgICAgIGtleTogIm5hbWUiLAogICAgICAgIGxhYmVsOiAiRmlsZSBOYW1lIiwKICAgICAgICBzb3J0YWJsZTogZmFsc2UKICAgICAgfSwgewogICAgICAgIGtleTogInVybCIsCiAgICAgICAgbGFiZWw6ICJVcmwiLAogICAgICAgIHNvcnRhYmxlOiBmYWxzZQogICAgICB9XSwKICAgICAgZmlsdGVyOiBudWxsLAogICAgICB0b3RhbFJvd3M6IDEsCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBwZXJQYWdlOiAxMCwKICAgICAgcGFnZU9wdGlvbnM6IFs1LCAxMCwgMTVdLAogICAgICBzZWxlY3RNb2RlOiAibXVsdGkiLAogICAgICBzZWxlY3RlZDogW10KICAgIH07CiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIC8vIFNldCB0aGUgaW5pdGlhbCBudW1iZXIgb2YgaXRlbXMKICAgIHRoaXMudG90YWxSb3dzID0gdGhpcy5pdGVtcy5sZW5ndGg7CiAgfSwKCiAgY29tcHV0ZWQ6IHsgLi4ubWFwR2V0dGVycyh7CiAgICAgIGl0ZW1zOiAibWVkaWEvZ2V0TWVkaWEiCiAgICB9KSwKCiAgICBzb3J0T3B0aW9ucygpIHsKICAgICAgLy8gQ3JlYXRlIGFuIG9wdGlvbnMgbGlzdCBmcm9tIG91ciBmaWVsZHMKICAgICAgcmV0dXJuIHRoaXMudGFibGVmaWVsZHMuZmlsdGVyKGYgPT4gZi5zb3J0YWJsZSkubWFwKGYgPT4gewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB0ZXh0OiBmLmxhYmVsLAogICAgICAgICAgdmFsdWU6IGYua2V5CiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAoKICAgIHNlbGVjdGVkUm93cygpIHsKICAgICAgcmV0dXJuIHRoaXMuaXRlbXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5kZWxldGUpOwogICAgfQoKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEltZ1VybChwYXRoKSB7CiAgICAgIHJldHVybiByZXF1aXJlKCJAL2Fzc2V0cy9pbWFnZXMvZGFzaGJvYXJkL3Byb2R1Y3QvIiArIHBhdGgpOwogICAgfSwKCiAgICBvbkZpbHRlcmVkKGZpbHRlcmVkSXRlbXMpIHsKICAgICAgLy8gVHJpZ2dlciBwYWdpbmF0aW9uIHRvIHVwZGF0ZSB0aGUgbnVtYmVyIG9mIGJ1dHRvbnMvcGFnZXMgZHVlIHRvIGZpbHRlcmluZwogICAgICB0aGlzLnRvdGFsUm93cyA9IGZpbHRlcmVkSXRlbXMubGVuZ3RoOwogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTsKICAgIH0sCgogICAgcm93U2VsZWN0ZWQoaXRlbSkgewogICAgICB0aGlzLnNlbGVjdGVkID0gaXRlbTsKCiAgICAgIGlmIChpdGVtWzBdKSB7CiAgICAgICAgdGhpcy5lZGl0ID0gdGhpcy5lZGl0ICE9PSBpdGVtWzBdLmlkID8gaXRlbVswXS5pZCA6IG51bGw7CiAgICAgIH0KICAgIH0sCgogICAgZGVsZXRlU2VsZWN0ZWQoaXRlbSkgewogICAgICBsZXQgb2JqSW5kZXggPSB0aGlzLnNlbGVjdGVkLmZpbmRJbmRleChvYmogPT4gb2JqLmlkID09IGl0ZW0uaWQpOwoKICAgICAgaWYgKG9iakluZGV4ID4gLTEpIHsKICAgICAgICB0aGlzLnNlbGVjdGVkLnNwbGljZShvYmpJbmRleCwgMSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZC5wdXNoKGl0ZW0pOwogICAgICB9CiAgICB9LAoKICAgIGRlbGV0ZVJvdygpIHsKICAgICAgZm9yICh2YXIgaSA9IHRoaXMuaXRlbXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRoaXMuc2VsZWN0ZWQubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIGlmICh0aGlzLml0ZW1zW2ldICYmIHRoaXMuaXRlbXNbaV0uaWQgPT09IHRoaXMuc2VsZWN0ZWRbal0uaWQpIHsKICAgICAgICAgICAgdGhpcy5pdGVtcy5zcGxpY2UoaSwgMSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIGRlbGV0ZUJhdGNoUm93KCkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2VsZWN0ZWQubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodGhpcy5pdGVtc1tpXS5pZCA9PSB0aGlzLnNlbGVjdGVkW2ldLmlkKSB7CiAgICAgICAgICB0aGlzLml0ZW1zLnNwbGljZSh0aGlzLml0ZW1zW2ldLCAxKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgY2xlYXJTZWxlY3RlZCgpIHsKICAgICAgY29uc29sZS5sb2coImJ1dHRvbiBjbGlja2VkIik7CiAgICAgIHRoaXMuc2VsZWN0ZWRSb3dzLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coIml0ZW0iLCBpdGVtKTsKICAgICAgICB0aGlzLnNlbGVjdGVkUm93cy5zcGxpY2UoaXRlbSwgMSk7CiAgICAgICAgdGhpcy4kZGVsZXRlKGl0ZW0sICJkZWxldGUiKTsKICAgICAgfSk7CiAgICB9LAoKICAgIHNob3dNc2dCb3hUd28oKSB7CiAgICAgIHRoaXMuJGJ2TW9kYWwubXNnQm94Q29uZmlybSgnQXJlIHlvdSBzdXJlIScsIHsKICAgICAgICB0aXRsZTogJ0NvbmZpcm1hdGlvbicsCiAgICAgICAgc2l6ZTogJ21kJywKICAgICAgICBidXR0b25TaXplOiAnc20nLAogICAgICAgIG9rVmFyaWFudDogJ3ByaW1hcnknLAogICAgICAgIG9rVGl0bGU6ICdZRVMnLAogICAgICAgIGNhbmNlbFRpdGxlOiAnQ0FOQ0xFJywKICAgICAgICBmb290ZXJDbGFzczogJ3AtMicsCiAgICAgICAgaGlkZUhlYWRlckNsb3NlOiBmYWxzZSAvLyBjZW50ZXJlZDogdHJ1ZQoKICAgICAgfSkudGhlbih2YWx1ZSA9PiB7CiAgICAgICAgdGhpcy5kZWxldGVSb3coKTsKICAgICAgICB0aGlzLnNlbGVjdGVkID0gW107CiAgICAgIH0pLmNhdGNoKGVyciA9PiB7Ly8gQW4gZXJyb3Igb2NjdXJyZWQKICAgICAgfSk7CiAgICB9CgogIH0KfTs="},{"version":3,"mappings":"AA6EA;AACA;AAEA;EACAA,aACA;EADA,CADA;;EAIAC;IACA;EACA,CANA;;EAOAC;IACA;MACAC;QACAC,4BADA;QAEAC,mBAFA;QAGAC,WAHA;QAIAC,cAJA;QAKAC,oBALA;QAMAC,oBACA;MAPA,CADA;MAUAC,cACA;QAAAC;MAAA,CADA,EAEA;QAAAA;QAAAC;QAAAC;MAAA,CAFA,EAGA;QAAAF;QAAAC;QAAAC;MAAA,CAHA,EAIA;QAAAF;QAAAC;QAAAC;MAAA,CAJA,CAVA;MAiBAC,YAjBA;MAkBAC,YAlBA;MAmBAC,cAnBA;MAoBAC,WApBA;MAqBAC,wBArBA;MAsBAC,mBAtBA;MAuBAC;IAvBA;EAyBA,CAjCA;;EAkCAC;IACA;IACA;EACA,CArCA;;EAsCAC,YACA;MACAC;IADA,EADA;;IAIAC;MACA;MACA,wBACAV,MADA,CACAW,eADA,EAEAC,GAFA,CAEAD;QACA;UAAAE;UAAAC;QAAA;MACA,CAJA;IAKA,CAXA;;IAYAC;MACA;IACA;;EAdA,CAtCA;EAsDAC;IACAC;MACA;IACA,CAHA;;IAIAC;MACA;MACA;MACA;IACA,CARA;;IASAC;MACA;;MACA;QACA;MACA;IACA,CAdA;;IAeAC;MACA;;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA,CAtBA;;IAuBAC;MACA;QACA;UACA;YACA;UACA;QACA;MACA;IACA,CA/BA;;IAgCAC;MACA;QACA;UACA;QACA;MACA;IACA,CAtCA;;IAuCAC;MACAC;MACA;QACAA;QACA;QACA;MACA,CAJA;IAKA,CA9CA;;IA+CAC;MACA;QACAC,qBADA;QAEAC,UAFA;QAGAC,gBAHA;QAIAC,oBAJA;QAKAC,cALA;QAMAC,qBANA;QAOAC,kBAPA;QAQAC,sBARA,CASA;;MATA,GAWAC,IAXA,CAWApB;QACA;QACA;MACA,CAdA,EAeAqB,KAfA,CAeAC,QACA;MACA,CAjBA;IAkBA;;EAlEA;AAtDA","names":["components","created","data","singledropzoneOptions","url","thumbnailWidth","maxFiles","maxFilesize","addRemoveLinks","dictDefaultMessage","tablefields","key","label","sortable","filter","totalRows","currentPage","perPage","pageOptions","selectMode","selected","mounted","computed","items","sortOptions","f","map","text","value","selectedRows","methods","getImgUrl","onFiltered","rowSelected","deleteSelected","deleteRow","deleteBatchRow","clearSelected","console","showMsgBoxTwo","title","size","buttonSize","okVariant","okTitle","cancelTitle","footerClass","hideHeaderClose","then","catch","err"],"sourceRoot":"src/pages","sources":["media.vue"],"sourcesContent":["<template>\n  <div>\n    <!-- Container-fluid starts-->\n    <div class=\"container-fluid bulk-cate\">\n      <div class=\"page-header\">\n        <Breadcrumbs main=\"Media\" title=\"Media\" />\n      </div>\n      <px-card title=\"Dropzone Media\">\n        <div slot=\"with-padding\">\n          <vue-dropzone\n            id=\"singledropzone\"\n            :options=\"singledropzoneOptions\"\n            class=\"dropzone digits\"\n          >\n          </vue-dropzone>\n        </div>\n      </px-card>\n\n      <px-card title=\"Media File List\" class=\"datatable-vue\">\n        <div slot=\"with-padding\">\n          <b-table\n            class=\"text-center\"\n            show-empty\n            striped\n            hover\n            head-variant=\"light\"\n            bordered\n            stacked=\"md\"\n            :items=\"items\"\n            :fields=\"tablefields\"\n            :filter=\"filter\"\n            :current-page=\"currentPage\"\n            :per-page=\"perPage\"\n            @filtered=\"onFiltered\"\n            @row-selected=\"rowSelected\"\n          >\n           <template v-slot:head(delete)>\n                <b-button\n                  variant=\"danger\"\n                  :disabled=\"selectedRows.length === 0\"\n                  @click=\"showMsgBoxTwo\"\n                  >Delete</b-button\n                >\n            </template>\n            <template #cell(image)=\"field\">\n                <img\n                  height=\"50px\"\n                  :src=\"getImgUrl(field.item.images)\"\n                  width=\"50px\"\n                />\n            </template>\n            <b-table-column v-slot:cell(delete)>\n              <a href=\"#\">edit</a>\n              <a href=\"#\"> remove</a>\n            </b-table-column>\n\n            <template v-slot:cell(delete)=\"{ item, field: { key } }\">\n              <b-checkbox v-model=\"item[key]\" @change=\"deleteSelected(item)\"></b-checkbox>\n            </template>\n          </b-table>\n          <b-col md=\"12\" class=\"my-1 p-0 pagination-justify\">\n            <b-pagination\n              v-model=\"currentPage\"\n              :total-rows=\"totalRows\"\n              :per-page=\"perPage\"\n              aria-controls=\"my-table\"\n              class=\"mt-4\"\n            ></b-pagination>\n          </b-col>\n        </div>\n      </px-card>\n    </div>\n    <!-- Container-fluid Ends-->\n  </div>\n</template>\n\n<script>\n//import Body from \"../components/body.vue\";\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  components: {\n    //Body: Body,\n  },\n  created() {\n    this.$store.dispatch(\"media/getMedia\");\n  },\n  data() {\n    return {\n      singledropzoneOptions: {\n        url: \"http://localhost:8080\",\n        thumbnailWidth: 150,\n        maxFiles: 1,\n        maxFilesize: 2,\n        addRemoveLinks: true,\n        dictDefaultMessage:\n          \"<i class='fas fa-cloud-upload-alt' aria-hidden='true'></i><h6>Drop files here or click to upload.</h6>\"\n      },\n      tablefields: [\n        { key: \"delete\" },\n        { key: \"image\", label: \"Image\", sortable: false },\n        { key: \"name\", label: \"File Name\", sortable: false },\n        { key: \"url\", label: \"Url\", sortable: false }\n      ],\n\n      filter: null,\n      totalRows: 1,\n      currentPage: 1,\n      perPage: 10,\n      pageOptions: [5, 10, 15],\n      selectMode: \"multi\",\n       selected: []\n    };\n  },\n  mounted() {\n    // Set the initial number of items\n    this.totalRows = this.items.length;\n  },\n  computed: {\n    ...mapGetters({\n      items: \"media/getMedia\"\n    }),\n    sortOptions() {\n      // Create an options list from our fields\n      return this.tablefields\n        .filter(f => f.sortable)\n        .map(f => {\n          return { text: f.label, value: f.key };\n        });\n    },\n    selectedRows() {\n      return this.items.filter(item => item.delete);\n    }\n  },\n  methods: {\n    getImgUrl(path) {\n      return require(\"@/assets/images/dashboard/product/\" + path);\n    },\n    onFiltered(filteredItems) {\n      // Trigger pagination to update the number of buttons/pages due to filtering\n      this.totalRows = filteredItems.length;\n      this.currentPage = 1;\n    },\n     rowSelected(item) {\n      this.selected = item;\n      if (item[0]) {\n        this.edit = this.edit !== item[0].id ? item[0].id : null;\n      }\n    },\n    deleteSelected(item) {\n      let objIndex = this.selected.findIndex((obj => obj.id == item.id));\n      if (objIndex > -1) {\n        this.selected.splice(objIndex, 1);\n      } else {\n        this.selected.push(item)\n      }\n    },\n    deleteRow() {\n      for( var i=this.items.length - 1; i>=0; i--){\n        for( var j=0; j<this.selected.length; j++){\n          if(this.items[i] && (this.items[i].id === this.selected[j].id)){\n            this.items.splice(i, 1);\n          }\n        }\n      }\n    },\n    deleteBatchRow() {\n      for (var i = 0; i < this.selected.length; i++) {\n        if (this.items[i].id == this.selected[i].id) {\n          this.items.splice(this.items[i], 1);\n        }\n      }\n    },\n    clearSelected() {\n      console.log(\"button clicked\");\n      this.selectedRows.forEach(item => {\n        console.log(\"item\", item);\n        this.selectedRows.splice(item, 1);\n        this.$delete(item, \"delete\");\n      });\n    },\n      showMsgBoxTwo() {\n        this.$bvModal.msgBoxConfirm('Are you sure!', {\n          title: 'Confirmation',\n          size: 'md',\n          buttonSize: 'sm',\n          okVariant: 'primary',\n          okTitle: 'YES',\n          cancelTitle: 'CANCLE',\n          footerClass: 'p-2',\n          hideHeaderClose: false,\n          // centered: true\n        })\n          .then(value => {\n            this.deleteRow();\n            this.selected = [];\n          })\n          .catch(err => {\n            // An error occurred\n          })\n      }\n  }\n};\n</script>\n"]}]}