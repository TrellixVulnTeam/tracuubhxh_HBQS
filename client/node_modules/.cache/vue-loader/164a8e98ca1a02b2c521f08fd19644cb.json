{"remainingRequest":"E:\\PROJECT\\multikart-responsive-vuejs-ecommerce\\multikart\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\PROJECT\\multikart-responsive-vuejs-ecommerce\\multikart\\admin\\src\\components\\commonTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\PROJECT\\multikart-responsive-vuejs-ecommerce\\multikart\\admin\\src\\components\\commonTable.vue","mtime":1624424366000},{"path":"E:\\PROJECT\\multikart-responsive-vuejs-ecommerce\\multikart\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\PROJECT\\multikart-responsive-vuejs-ecommerce\\multikart\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\PROJECT\\multikart-responsive-vuejs-ecommerce\\multikart\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\PROJECT\\multikart-responsive-vuejs-ecommerce\\multikart\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogWwogICAgInNlbGVjdE1vZGUiLAogICAgIml0ZW1zIiwKICAgICJ0YWJsZWZpZWxkcyIsCiAgICAiZmlsdGVyIiwKICAgICJjdXJyZW50UGFnZSIsCiAgICAicGVyUGFnZSIsCiAgICAidG90YWxSb3dzIiwKICAgICJzZWxlY3RhYmxlIgogIF0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVkaXQ6IG51bGwsCiAgICAgIGFkZDogZmFsc2UsCiAgICAgIGl0ZW06ICIiLAogICAgICBpbmRleDogbnVsbCwKICAgICAgdG90YWxSb3c6ICIiLAogICAgICBzYXZlOiBmYWxzZSwKICAgICAgcGFnZTogdGhpcy5jdXJyZW50UGFnZSwKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy50b3RhbFJvdyA9IHRoaXMudG90YWxSb3dzOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vc2VsZWN0ZWRSb3dzKCkgewogICAgLy8gIHJldHVybiB0aGlzLml0ZW1zLmZpbHRlcihpdGVtID0+IGl0ZW0uZGVsZXRlKTsKICAgIC8vfSwKICAgIHNvcnRPcHRpb25zKCkgewogICAgICByZXR1cm4gdGhpcy50YWJsZWZpZWxkcwogICAgICAgIC5maWx0ZXIoZiA9PiBmLnNvcnRhYmxlKQogICAgICAgIC5tYXAoZiA9PiB7CiAgICAgICAgICByZXR1cm4geyB0ZXh0OiBmLmxhYmVsLCB2YWx1ZTogZi5rZXkgfTsKICAgICAgICB9KTsKICAgIH0sCiAgICBzZWxlY3RlZFJvd3MoKSB7CiAgICAgIHJldHVybiB0aGlzLml0ZW1zLmZpbHRlcihpdGVtID0+IGl0ZW0uZGVsZXRlKTsKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICAvLyBTZXQgdGhlIGluaXRpYWwgbnVtYmVyIG9mIGl0ZW1zCiAgICB0aGlzLnRvdGFsUm93ID0gdGhpcy5pdGVtcy5sZW5ndGg7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRJbWdVcmwocGF0aCkgewogICAgICByZXR1cm4gcmVxdWlyZSgiQC9hc3NldHMvaW1hZ2VzL2RpZ2l0YWwtcHJvZHVjdC8iICsgcGF0aCk7CiAgICB9LAogICAgYWRkUmVjb3JkKCkgewogICAgICB0aGlzLmFkZCA9IHRydWU7CiAgICAgIGNvbnNvbGUubG9nKCJpdGVtcyIsIHRoaXMuaXRlbXNbMF0pOwogICAgICB0aGlzLml0ZW1zLnVuc2hpZnQoewogICAgICAgIGlkOiAiIiwKICAgICAgICBpbnZvaWNlOiAiIiwKICAgICAgICBkYXRlOiAiIiwKICAgICAgICBzaGlwcGluZzogIiIsCiAgICAgICAgYW1vdW50OiAiIiwKICAgICAgICB0YXg6ICIiLAogICAgICAgIHRvdGFsOiAiIiwKICAgICAgICBhY3Rpb25zOiAiIgogICAgICB9KTsKICAgICAgdGhpcy5lZGl0ID0gIiI7CiAgICAgIHRoaXMuc2F2ZSA9IHRydWU7CiAgICB9LAogICAgc2VhcmNoRGF0YSgpIHsKICAgICAgdGhpcy5hZGQgPSBmYWxzZTsKICAgICAgdGhpcy5pdGVtcy5zcGxpY2UoMCwgMSk7CiAgICB9LAogICAgb25FZGl0KGlkKSB7CiAgICAgIGlmIChpZCAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICB0aGlzLmVkaXQgPSB0aGlzLmVkaXQgIT09IGlkID8gaWQgOiBudWxsOwogICAgICB9CiAgICB9LAogICAgb25TYXZlKGlkKSB7CiAgICAgIHRoaXMuc2F2ZSA9IGZhbHNlOwogICAgICB0aGlzLmVkaXQgPSAiIjsKICAgIH0sCiAgICBkb0NhbmNlbChpZCkgewogICAgICB0aGlzLmVkaXQgPSAiIjsKICAgICAgdGhpcy5pdGVtID0gIiI7CiAgICB9LAogICAgZGVsZXRlUm93KGluZGV4KSB7CiAgICAgIHRoaXMuaXRlbXMuc3BsaWNlKHRoaXMuaW5kZXgsIDEpOwogICAgICB0aGlzLnNlbGVjdGVkUm93cy5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgIHRoaXMuJGRlbGV0ZShpdGVtLCAic2VsZWN0ZWQiKTsKICAgICAgfSk7CiAgICB9LAogICAgb25GaWx0ZXJlZChmaWx0ZXJlZEl0ZW1zKSB7CiAgICAgIC8vIFRyaWdnZXIgcGFnaW5hdGlvbiB0byB1cGRhdGUgdGhlIG51bWJlciBvZiBidXR0b25zL3BhZ2VzIGR1ZSB0byBmaWx0ZXJpbmcKICAgICAgdGhpcy50b3RhbFJvd3MgPSBmaWx0ZXJlZEl0ZW1zLmxlbmd0aDsKICAgICAgLy8gIHRoaXMuY3VycmVudFBhZ2UgPSAxOwogICAgfSwKICAgIHJvd1NlbGVjdGVkKGl0ZW0pIHsKICAgICAgaWYgKGl0ZW1bMF0pIHsKICAgICAgICB0aGlzLmVkaXQgPSB0aGlzLmVkaXQgIT09IGl0ZW1bMF0uaWQgPyBpdGVtWzBdLmlkIDogbnVsbDsKICAgICAgfQogICAgfSwKICAgIGNsZWFyU2VsZWN0ZWQoKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRSb3dzLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgdGhpcy5zZWxlY3RlZFJvd3Muc3BsaWNlKGl0ZW0sIDEpOwogICAgICAgIHRoaXMuJGRlbGV0ZShpdGVtLCAiZGVsZXRlIik7CiAgICAgIH0pOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["commonTable.vue"],"names":[],"mappings":";AA6IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"commonTable.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"card-datatable table-responsive pt-0\">\n    <div>\n      <b-modal id=\"modal-2\" title=\"Confirmation\" @ok=\"deleteRow()\">\n        <p class=\"my-4\">Are you sure!</p>\n      </b-modal>\n    </div>\n    <b-table\n      :select-mode=\"selectMode\"\n      class=\"text-center\"\n      show-empty\n      striped\n      hover\n      head-variant=\"light\"\n      bordered\n      stacked=\"md\"\n      :items=\"items\"\n      :fields=\"tablefields\"\n      :filter=\"filter\"\n      :current-page=\"currentPage\"\n      :per-page=\"perPage\"\n      @filtered=\"onFiltered\"\n      ref=\"selectableTable\"\n      :selectable=\"selectable\"\n      @row-selected=\"rowSelected\"\n    >\n      <template\n        v-for=\"(field, index) in tablefields\"\n        :slot=\"field.key\"\n        slot-scope=\"data\"\n      >\n        <b-form-input\n          :key=\"index\"\n          class=\"border-0 no-shadow p-1\"\n          type=\"text\"\n          v-model=\"data.item[key]\"\n        ></b-form-input>\n      </template>\n      <!-- delete row starts -->\n      <template v-slot:head(delete)>\n        <b-button\n          variant=\"danger\"\n          :disabled=\"selectedRows.length === 0\"\n          v-b-modal.modal-1\n          @click=\"index =index\"\n          >Delete</b-button\n        >\n      </template>\n      <template v-slot:cell(delete)=\"{ item, field: { key } }\">\n        <b-checkbox v-model=\"item[key]\"></b-checkbox>\n      </template>\n      <!-- delete row ends -->\n      <template v-slot:cell()=\"{ value, item, field: { key } }\">\n        <template v-if=\"edit != item.id\">{{ value }}</template>\n        <b-form-input v-else v-model=\"item[key]\" />\n      </template>\n      <template #cell(image)=\"field\">\n        <img height=\"50px\" :src=\"getImgUrl(field.item.image)\" width=\"50px\" />\n      </template>\n      <template v-slot:cell(actions)=\"{ item: { id } }\">\n        <feather\n          @click=\"onEdit(id)\"\n          v-if=\"edit != id && id !== null\"\n          type=\"edit-2\"\n          stroke=\"#4050F6\"\n          stroke-width=\"1\"\n          size=\"18px\"\n          fill=\"#4050F6\"\n          stroke-linejoin=\"round\"\n        ></feather>\n        <feather\n          v-if=\"edit === id && id !== ''\"\n          size=\"18px\"\n          stroke=\"#39CCC6\"\n          stroke-width=\"5\"\n          type=\"check\"\n          @click=\"onSave(id)\"\n        ></feather>\n        <feather\n          v-if=\"edit != id\"\n          type=\"trash-2\"\n          stroke=\"#F72E9F\"\n          fill=\"#F72E9F\"\n          size=\"18px\"\n          v-b-modal.modal-2\n          @click=\"index = item.index\"\n        ></feather>\n        <feather\n          stroke=\"#F7299D\"\n          size=\"18px\"\n          stroke-width=\"5\"\n          v-if=\"edit === id && id !== ''\"\n          type=\"x\"\n          @click=\"doCancel(id)\"\n        ></feather>\n        <feather\n          stroke=\"#F7299D\"\n          size=\"18px\"\n          stroke-width=\"5\"\n          v-if=\"save && id == ''\"\n          type=\"save\"\n          @click=\"onSave(id)\"\n        ></feather>\n      </template>\n      <template v-slot:head(actions)>\n        <feather\n          v-if=\"!add\"\n          type=\"plus\"\n          stroke=\"#4050F6\"\n          stroke-width=\"6\"\n          size=\"22px\"\n          fill=\"#4050F6\"\n          @click=\"addRecord()\"\n        ></feather>\n        <feather\n          v-else\n          type=\"search\"\n          stroke-width=\"6\"\n          size=\"22px\"\n          @click=\"searchData()\"\n        ></feather>\n      </template>\n    </b-table>\n    <b-col md=\"6\" class=\"my-1\">\n      <b-pagination\n        v-model=\"currentPage\"\n        :total-rows=\"totalRow\"\n        :per-page=\"perPage\"\n        aria-controls=\"my-table\"\n        class=\"mt-4\"\n        first-text=\"First\"\n        prev-text=\"Prev\"\n        next-text=\"Next\"\n        last-text=\"Last\"\n      >\n      </b-pagination>\n    </b-col>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: [\n    \"selectMode\",\n    \"items\",\n    \"tablefields\",\n    \"filter\",\n    \"currentPage\",\n    \"perPage\",\n    \"totalRows\",\n    \"selectable\"\n  ],\n  data() {\n    return {\n      edit: null,\n      add: false,\n      item: \"\",\n      index: null,\n      totalRow: \"\",\n      save: false,\n      page: this.currentPage,\n    };\n  },\n  mounted() {\n    this.totalRow = this.totalRows;\n  },\n  computed: {\n    //selectedRows() {\n    //  return this.items.filter(item => item.delete);\n    //},\n    sortOptions() {\n      return this.tablefields\n        .filter(f => f.sortable)\n        .map(f => {\n          return { text: f.label, value: f.key };\n        });\n    },\n    selectedRows() {\n      return this.items.filter(item => item.delete);\n    }\n  },\n  mounted() {\n    // Set the initial number of items\n    this.totalRow = this.items.length;\n  },\n  methods: {\n    getImgUrl(path) {\n      return require(\"@/assets/images/digital-product/\" + path);\n    },\n    addRecord() {\n      this.add = true;\n      console.log(\"items\", this.items[0]);\n      this.items.unshift({\n        id: \"\",\n        invoice: \"\",\n        date: \"\",\n        shipping: \"\",\n        amount: \"\",\n        tax: \"\",\n        total: \"\",\n        actions: \"\"\n      });\n      this.edit = \"\";\n      this.save = true;\n    },\n    searchData() {\n      this.add = false;\n      this.items.splice(0, 1);\n    },\n    onEdit(id) {\n      if (id !== \"undefined\") {\n        this.edit = this.edit !== id ? id : null;\n      }\n    },\n    onSave(id) {\n      this.save = false;\n      this.edit = \"\";\n    },\n    doCancel(id) {\n      this.edit = \"\";\n      this.item = \"\";\n    },\n    deleteRow(index) {\n      this.items.splice(this.index, 1);\n      this.selectedRows.forEach(item => {\n        this.$delete(item, \"selected\");\n      });\n    },\n    onFiltered(filteredItems) {\n      // Trigger pagination to update the number of buttons/pages due to filtering\n      this.totalRows = filteredItems.length;\n      //  this.currentPage = 1;\n    },\n    rowSelected(item) {\n      if (item[0]) {\n        this.edit = this.edit !== item[0].id ? item[0].id : null;\n      }\n    },\n    clearSelected() {\n      this.selectedRows.forEach(item => {\n        this.selectedRows.splice(item, 1);\n        this.$delete(item, \"delete\");\n      });\n    }\n  }\n};\n</script>"]}]}