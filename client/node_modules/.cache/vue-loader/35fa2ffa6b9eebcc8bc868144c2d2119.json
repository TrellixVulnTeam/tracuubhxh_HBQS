{"remainingRequest":"E:\\PROJECT\\TRACUUNO\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\PROJECT\\TRACUUNO\\src\\pages\\authentication\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\PROJECT\\TRACUUNO\\src\\pages\\authentication\\login.vue","mtime":1658196920724},{"path":"E:\\PROJECT\\TRACUUNO\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\PROJECT\\TRACUUNO\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\PROJECT\\TRACUUNO\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\PROJECT\\TRACUUNO\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7fSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdHlwZTogInBhc3N3b3JkIiwKICAgICAgdXNlcm5hbWU6ICJ0dWFucGRhLmJoeGhAZ21haWwuY29tIiwKICAgICAgcGFzc3dvcmQ6ICIxMjM0NTYiLAogICAgICBzdWJtaXR0ZWQ6IGZhbHNlLAogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICAvLyByZXNldCBsb2dpbiBzdGF0dXMgZm9yIEpXVAogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImF1dGhlbnRpY2F0aW9uL2xvZ291dCIpOwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlU3VibWl0KCkgewogICAgICB0aGlzLnN1Ym1pdHRlZCA9IHRydWU7CiAgICB9LAogICAgYXN5bmMgbG9naW4oKSB7CiAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoCiAgICAgICAgYGh0dHA6Ly8xMC40Mi4yNDAuMjAwOjk5OTkvYXBpL3VzZXJzL2F1dGgvbG9naW5gLAogICAgICAgIHRoaXMuZm9ybQogICAgICApOwogICAgICAvL2NvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEudXNlcik7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VyLXRva2VuIiwgcmVzcG9uc2UuZGF0YS50b2tlbik7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJ1c2VyIiwgcmVzcG9uc2UuZGF0YS51c2VyKTsKICAgICAgaWYgKHJlc3BvbnNlLmRhdGEudXNlci51c2VybmFtZSA9PSAiYWRtaW4iKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9hZG1pbiIpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvaG9tZSIpOwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/pages/authentication","sourcesContent":["<template>\n  <form\n    class=\"form-horizontal auth-form\"\n    @submit.prevent=\"handleSubmit\"\n    method=\"post\"\n  >\n    <div class=\"form-group\">\n      <input\n        v-model=\"username\"\n        name=\"login[username]\"\n        type=\"email\"\n        class=\"form-control\"\n        id=\"exampleInputEmail1\"\n      />\n    </div>\n    <div class=\"form-group\">\n      <input\n        :type=\"type\"\n        v-model=\"password\"\n        name=\"login[password]\"\n        class=\"form-control\"\n      />\n    </div>\n    <div class=\"form-terms\">\n      <div class=\"custom-control custom-checkbox mr-sm-2\">\n        <input\n          type=\"checkbox\"\n          class=\"custom-control-input\"\n          id=\"customControlAutosizing\"\n        />\n        <label class=\"custom-control-label\" for=\"customControlAutosizing\"\n          >Nhớ đăng nhập</label\n        >\n        <a href=\"#\" class=\"btn btn-default forgot-pass\">Quên mật khẩu</a>\n      </div>\n    </div>\n    <div class=\"form-button\">\n      <button class=\"btn btn-primary\" type=\"submit\" @click=\"login\">\n        Đăng nhập\n      </button>\n    </div>\n  </form>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  components: {},\n  data() {\n    return {\n      type: \"password\",\n      username: \"tuanpda.bhxh@gmail.com\",\n      password: \"123456\",\n      submitted: false,\n    };\n  },\n  created() {\n    // reset login status for JWT\n    this.$store.dispatch(\"authentication/logout\");\n  },\n  methods: {\n    handleSubmit() {\n      this.submitted = true;\n    },\n    async login() {\n      let response = await axios.post(\n        `http://10.42.240.200:9999/api/users/auth/login`,\n        this.form\n      );\n      //console.log(response.data.user);\n      localStorage.setItem(\"user-token\", response.data.token);\n      this.$store.dispatch(\"user\", response.data.user);\n      if (response.data.user.username == \"admin\") {\n        this.$router.push(\"/admin\");\n      } else {\n        this.$router.push(\"/home\");\n      }\n    },\n  },\n};\n</script>"]}]}