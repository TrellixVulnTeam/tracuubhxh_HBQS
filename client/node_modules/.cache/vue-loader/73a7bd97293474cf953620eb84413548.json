{"remainingRequest":"E:\\CODE_APP\\TRACUUNO\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\CODE_APP\\TRACUUNO\\client\\src\\pages\\authentication\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\CODE_APP\\TRACUUNO\\client\\src\\pages\\authentication\\login.vue","mtime":1658378275835},{"path":"E:\\CODE_APP\\TRACUUNO\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\CODE_APP\\TRACUUNO\\client\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\CODE_APP\\TRACUUNO\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\CODE_APP\\TRACUUNO\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\CODE_APP\\TRACUUNO\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7fSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdHlwZTogInBhc3N3b3JkIiwKICAgICAgc3VibWl0dGVkOiBmYWxzZSwKICAgICAgZm9ybTogewogICAgICAgIE1BX0RPTlZJOiBudWxsLAogICAgICAgIE1TX1RIVUU6IG51bGwsCiAgICAgICAgU0RUX05HVU9JX0REOiBudWxsLAogICAgICB9LAogICAgICBtZXNzYWdlOiAiIiwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgbG9nZ2VkSW4oKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5hdXRoLnN0YXR1cy5sb2dnZWRJbjsKICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgaWYgKHRoaXMubG9nZ2VkSW4pIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9kYXNoYm9hcmQvZGVmYXVsdCIpOwogICAgfQogIH0sCgogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVN1Ym1pdCgpIHsKICAgICAgdGhpcy5zdWJtaXR0ZWQgPSB0cnVlOwogICAgfSwKICAgIGFzeW5jIGxvZ2luKCkgewogICAgICBpZiAoCiAgICAgICAgIXRoaXMuZm9ybS5NQV9ET05WSSAmJgogICAgICAgICF0aGlzLmZvcm0uTVNfVEhVRSAmJgogICAgICAgICF0aGlzLmZvcm0uU0RUX05HVU9JX0RECiAgICAgICkgewogICAgICAgIGNvbnN0IFRvYXN0ID0gdGhpcy4kc3dhbC5taXhpbih7CiAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICB0aW1lcjogMzAwMCwKICAgICAgICAgIHRpbWVyUHJvZ3Jlc3NCYXI6IHRydWUsCiAgICAgICAgICBkaWRPcGVuOiAodG9hc3QpID0+IHsKICAgICAgICAgICAgdG9hc3QuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VlbnRlciIsIHRoaXMuJHN3YWwuc3RvcFRpbWVyKTsKICAgICAgICAgICAgdG9hc3QuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VsZWF2ZSIsIHRoaXMuJHN3YWwucmVzdW1lVGltZXIpOwogICAgICAgICAgfSwKICAgICAgICB9KTsKCiAgICAgICAgVG9hc3QuZmlyZSh7CiAgICAgICAgICBpY29uOiAid2FybmluZyIsCiAgICAgICAgICB0aXRsZTogIkLhuqFuIGtow7RuZyB0aOG7gyDEkcSDbmcgbmjhuq1wIG7hur91IGtow7RuZyBjw7MgdGjDtG5nIHRpbiBjaMOtbmggeMOhYy4iLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhdXRoL2xvZ2luIiwgdGhpcy5mb3JtKS50aGVuKAogICAgICAgICAgKCkgPT4gewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2Rhc2hib2FyZC9kZWZhdWx0Iik7CiAgICAgICAgICB9LAogICAgICAgICAgKGVycm9yKSA9PiB7CiAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9CiAgICAgICAgICAgICAgKGVycm9yLnJlc3BvbnNlICYmIGVycm9yLnJlc3BvbnNlLmRhdGEpIHx8CiAgICAgICAgICAgICAgZXJyb3IubWVzc2FnZSB8fAogICAgICAgICAgICAgIGVycm9yLnRvU3RyaW5nKCk7CiAgICAgICAgICB9CiAgICAgICAgKTsKICAgICAgfQoKICAgICAgLyogbGV0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdCgKICAgICAgICBgaHR0cDovL2xvY2FsaG9zdDo5OTk5L2FwaS91c2Vycy9tc3QvbG9naW5gLAogICAgICAgIHRoaXMuZm9ybQogICAgICApOyAqLwogICAgICAvL2NvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEudXNlcik7CiAgICAgIC8vbG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXItdG9rZW4iLCByZXNwb25zZS5kYXRhLnRva2VuKTsKICAgICAgLy90aGlzLiRzdG9yZS5kaXNwYXRjaCgidXNlciIsIHJlc3BvbnNlLmRhdGEudXNlcik7CgogICAgICAvKiB0aGlzLiRyb3V0ZXIucHVzaCgiL2Rhc2hib2FyZC9kZWZhdWx0Iik7ICovCiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";AA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/pages/authentication","sourcesContent":["<template>\n  <form\n    class=\"form-horizontal auth-form\"\n    @submit.prevent=\"handleSubmit\"\n    method=\"post\"\n  >\n    <div class=\"form-group\">\n      <input\n        v-model=\"form.MA_DONVI\"\n        type=\"text\"\n        class=\"form-control\"\n        id=\"exampleInputEmail1\"\n      />\n    </div>\n    <div class=\"form-group\">\n      <input type=\"text\" v-model=\"form.MS_THUE\" class=\"form-control\" />\n    </div>\n    <div class=\"form-group\">\n      <input type=\"text\" v-model=\"form.SDT_NGUOI_DD\" class=\"form-control\" />\n    </div>\n    <div class=\"form-terms\">\n      <div class=\"custom-control custom-checkbox mr-sm-2\">\n        <input\n          type=\"checkbox\"\n          class=\"custom-control-input\"\n          id=\"customControlAutosizing\"\n        />\n        <label class=\"custom-control-label\" for=\"customControlAutosizing\"\n          >Nhớ đăng nhập</label\n        >\n        <a href=\"#\" class=\"btn btn-default forgot-pass\">Quên mật khẩu</a>\n      </div>\n    </div>\n    <div class=\"form-button\">\n      <button class=\"btn btn-primary\" type=\"submit\" @click=\"login\">\n        Đăng nhập\n      </button>\n    </div>\n  </form>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  components: {},\n  data() {\n    return {\n      type: \"password\",\n      submitted: false,\n      form: {\n        MA_DONVI: null,\n        MS_THUE: null,\n        SDT_NGUOI_DD: null,\n      },\n      message: \"\",\n    };\n  },\n  computed: {\n    loggedIn() {\n      return this.$store.state.auth.status.loggedIn;\n    },\n  },\n  created() {\n    if (this.loggedIn) {\n      this.$router.push(\"/dashboard/default\");\n    }\n  },\n\n  methods: {\n    handleSubmit() {\n      this.submitted = true;\n    },\n    async login() {\n      if (\n        !this.form.MA_DONVI &&\n        !this.form.MS_THUE &&\n        !this.form.SDT_NGUOI_DD\n      ) {\n        const Toast = this.$swal.mixin({\n          toast: true,\n          position: \"top-end\",\n          showConfirmButton: false,\n          timer: 3000,\n          timerProgressBar: true,\n          didOpen: (toast) => {\n            toast.addEventListener(\"mouseenter\", this.$swal.stopTimer);\n            toast.addEventListener(\"mouseleave\", this.$swal.resumeTimer);\n          },\n        });\n\n        Toast.fire({\n          icon: \"warning\",\n          title: \"Bạn không thể đăng nhập nếu không có thông tin chính xác.\",\n        });\n      } else {\n        this.$store.dispatch(\"auth/login\", this.form).then(\n          () => {\n            this.$router.push(\"/dashboard/default\");\n          },\n          (error) => {\n            this.message =\n              (error.response && error.response.data) ||\n              error.message ||\n              error.toString();\n          }\n        );\n      }\n\n      /* let response = await axios.post(\n        `http://localhost:9999/api/users/mst/login`,\n        this.form\n      ); */\n      //console.log(response.data.user);\n      //localStorage.setItem(\"user-token\", response.data.token);\n      //this.$store.dispatch(\"user\", response.data.user);\n\n      /* this.$router.push(\"/dashboard/default\"); */\n    },\n  },\n};\n</script>"]}]}