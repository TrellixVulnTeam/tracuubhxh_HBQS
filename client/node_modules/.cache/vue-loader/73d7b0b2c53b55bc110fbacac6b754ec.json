{"remainingRequest":"E:\\PROJECT\\TRACUUNO\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\PROJECT\\TRACUUNO\\client\\src\\pages\\authentication\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\PROJECT\\TRACUUNO\\client\\src\\pages\\authentication\\login.vue","mtime":1658215429587},{"path":"E:\\PROJECT\\TRACUUNO\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\PROJECT\\TRACUUNO\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\PROJECT\\TRACUUNO\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\PROJECT\\TRACUUNO\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7fSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdHlwZTogInBhc3N3b3JkIiwKICAgICAgc3VibWl0dGVkOiBmYWxzZSwKICAgICAgZm9ybTogewogICAgICAgIG1hc290aHVlOiBudWxsLAogICAgICAgIG1hZG9udmk6IG51bGwsCiAgICAgIH0sCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIC8vIHJlc2V0IGxvZ2luIHN0YXR1cyBmb3IgSldUCiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiYXV0aGVudGljYXRpb24vbG9nb3V0Iik7CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTdWJtaXQoKSB7CiAgICAgIHRoaXMuc3VibWl0dGVkID0gdHJ1ZTsKICAgIH0sCiAgICBhc3luYyBsb2dpbigpIHsKICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdCgKICAgICAgICBgaHR0cDovL2xvY2FsaG9zdDo5OTk5L2FwaS91c2Vycy9tc3QvbG9naW5gLAogICAgICAgIHRoaXMuZm9ybQogICAgICApOwogICAgICAvL2NvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEudXNlcik7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VyLXRva2VuIiwgcmVzcG9uc2UuZGF0YS50b2tlbik7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJ1c2VyIiwgcmVzcG9uc2UuZGF0YS51c2VyKTsKCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvZGFzaGJvYXJkL2RlZmF1bHQiKTsKICAgIH0sICAgIAogIH0sCn07Cg=="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/pages/authentication","sourcesContent":["<template>\n  <form\n    class=\"form-horizontal auth-form\"\n    @submit.prevent=\"handleSubmit\"\n    method=\"post\"\n  >\n    <div class=\"form-group\">\n      <input\n        v-model=\"form.masothue\"\n        name=\"login[username]\"\n        type=\"text\"\n        class=\"form-control\"\n        id=\"exampleInputEmail1\"\n      />\n    </div>\n    <div class=\"form-group\">\n      <input\n        :type=\"type\"\n        v-model=\"form.madonvi\"\n        name=\"login[password]\"\n        class=\"form-control\"\n      />\n    </div>\n    <div class=\"form-terms\">\n      <div class=\"custom-control custom-checkbox mr-sm-2\">\n        <input\n          type=\"checkbox\"\n          class=\"custom-control-input\"\n          id=\"customControlAutosizing\"\n        />\n        <label class=\"custom-control-label\" for=\"customControlAutosizing\"\n          >Nhớ đăng nhập</label\n        >\n        <a href=\"#\" class=\"btn btn-default forgot-pass\">Quên mật khẩu</a>\n      </div>\n    </div>\n    <div class=\"form-button\">\n      <button class=\"btn btn-primary\" type=\"submit\" @click=\"login\">\n        Đăng nhập\n      </button>\n    </div>\n  </form>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  components: {},\n  data() {\n    return {\n      type: \"password\",\n      submitted: false,\n      form: {\n        masothue: null,\n        madonvi: null,\n      },\n    };\n  },\n  created() {\n    // reset login status for JWT\n    this.$store.dispatch(\"authentication/logout\");\n  },\n  methods: {\n    handleSubmit() {\n      this.submitted = true;\n    },\n    async login() {\n      let response = await axios.post(\n        `http://localhost:9999/api/users/mst/login`,\n        this.form\n      );\n      //console.log(response.data.user);\n      localStorage.setItem(\"user-token\", response.data.token);\n      this.$store.dispatch(\"user\", response.data.user);\n\n      this.$router.push(\"/dashboard/default\");\n    },    \n  },\n};\n</script>"]}]}