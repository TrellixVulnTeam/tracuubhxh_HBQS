{"remainingRequest":"E:\\PROJECT\\multikart-responsive-vuejs-ecommerce\\multikart\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\PROJECT\\multikart-responsive-vuejs-ecommerce\\multikart\\admin\\src\\pages\\page\\PageList.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\PROJECT\\multikart-responsive-vuejs-ecommerce\\multikart\\admin\\src\\pages\\page\\PageList.vue","mtime":1624445993000},{"path":"E:\\PROJECT\\multikart-responsive-vuejs-ecommerce\\multikart\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\PROJECT\\multikart-responsive-vuejs-ecommerce\\multikart\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\PROJECT\\multikart-responsive-vuejs-ecommerce\\multikart\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\PROJECT\\multikart-responsive-vuejs-ecommerce\\multikart\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBzdGF0dXNJY29uIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvZmVhdGhlckljb25zL3N0YXR1cy1pY29uLnZ1ZSI7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IHN0YXR1c0ljb24gfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbW9kZXM6IFsibXVsdGkiLCAic2luZ2xlIiwgInJhbmdlIl0sCiAgICAgIHRhYmxlZmllbGRzOiBbCiAgICAgICAgeyBrZXk6ICJkZWxldGUiIH0sCiAgICAgICAgeyBrZXk6ICJuYW1lIiwgbGFiZWw6ICJOYW1lIiwgc29ydGFibGU6IGZhbHNlIH0sCiAgICAgICAgeyBrZXk6ICJzdGF0dXMiLCBsYWJlbDogIlN0YXR1cyIsIHNvcnRhYmxlOiBmYWxzZSB9LAogICAgICAgIHsga2V5OiAiY3JlYXRlZEF0IiwgbGFiZWw6ICJDcmVhdGVkIGF0Iiwgc29ydGFibGU6IGZhbHNlIH0KICAgICAgXSwKCiAgICAgIGZpbHRlcjogbnVsbCwKICAgICAgdG90YWxSb3dzOiAxLAogICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgcGVyUGFnZTogMTAsCiAgICAgIHBhZ2VPcHRpb25zOiBbNSwgMTAsIDE1XSwKICAgICAgc2VsZWN0ZWQ6IFtdLAogICAgICBzZWxlY3RNb2RlOiAibXVsdGkiCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJwYWdlcy9nZXRQYWdlcyIpOwogIH0sCgogIG1vdW50ZWQoKSB7CiAgICAvLyBTZXQgdGhlIGluaXRpYWwgbnVtYmVyIG9mIGl0ZW1zCiAgICB0aGlzLnRvdGFsUm93cyA9IHRoaXMuaXRlbXMubGVuZ3RoOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoewogICAgICBpdGVtczogInBhZ2VzL2dldFBhZ2VzIgogICAgfSksCiAgICBzZWxlY3RlZFJvd3MoKSB7CiAgICAgIHJldHVybiB0aGlzLml0ZW1zLmZpbHRlcihpdGVtID0+IGl0ZW0uZGVsZXRlKTsKICAgIH0sCiAgICBzb3J0T3B0aW9ucygpIHsKICAgICAgLy8gQ3JlYXRlIGFuIG9wdGlvbnMgbGlzdCBmcm9tIG91ciBmaWVsZHMKICAgICAgcmV0dXJuIHRoaXMudGFibGVmaWVsZHMKICAgICAgICAuZmlsdGVyKGYgPT4gZi5zb3J0YWJsZSkKICAgICAgICAubWFwKGYgPT4gewogICAgICAgICAgcmV0dXJuIHsgdGV4dDogZi5sYWJlbCwgdmFsdWU6IGYua2V5IH07CiAgICAgICAgfSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBkZWxldGVTZWxlY3RlZChpdGVtKSB7CiAgICAgIGxldCBvYmpJbmRleCA9IHRoaXMuc2VsZWN0ZWQuZmluZEluZGV4KChvYmogPT4gb2JqLmlkID09IGl0ZW0uaWQpKTsKICAgICAgaWYgKG9iakluZGV4ID4gLTEpIHsKICAgICAgICB0aGlzLnNlbGVjdGVkLnNwbGljZShvYmpJbmRleCwgMSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZC5wdXNoKGl0ZW0pCiAgICAgIH0KICAgIH0sCiAgICBvbkZpbHRlcmVkKGZpbHRlcmVkSXRlbXMpIHsKICAgICAgLy8gVHJpZ2dlciBwYWdpbmF0aW9uIHRvIHVwZGF0ZSB0aGUgbnVtYmVyIG9mIGJ1dHRvbnMvcGFnZXMgZHVlIHRvIGZpbHRlcmluZwogICAgICB0aGlzLnRvdGFsUm93cyA9IGZpbHRlcmVkSXRlbXMubGVuZ3RoOwogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTsKICAgIH0sCiAgICByb3dTZWxlY3RlZChpdGVtKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWQgPSBpdGVtOwogICAgfSwKICAgIGRlbGV0ZVJvdygpIHsKICAgICAgZm9yKCB2YXIgaT10aGlzLml0ZW1zLmxlbmd0aCAtIDE7IGk+PTA7IGktLSl7CiAgICAgICAgZm9yKCB2YXIgaj0wOyBqPHRoaXMuc2VsZWN0ZWQubGVuZ3RoOyBqKyspewogICAgICAgICAgaWYodGhpcy5pdGVtc1tpXSAmJiAodGhpcy5pdGVtc1tpXS5pZCA9PT0gdGhpcy5zZWxlY3RlZFtqXS5pZCkpewogICAgICAgICAgICB0aGlzLml0ZW1zLnNwbGljZShpLCAxKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBkZWxldGVCYXRjaFJvdygpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNlbGVjdGVkLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHRoaXMuaXRlbXNbaV0uaWQgPT0gdGhpcy5zZWxlY3RlZFtpXS5pZCkgewogICAgICAgICAgdGhpcy5pdGVtcy5zcGxpY2UodGhpcy5pdGVtc1tpXSwgMSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgc2hvd01zZ0JveFR3bygpIHsKICAgICAgICB0aGlzLiRidk1vZGFsLm1zZ0JveENvbmZpcm0oJ0FyZSB5b3Ugc3VyZSEnLCB7CiAgICAgICAgICB0aXRsZTogJ0NvbmZpcm1hdGlvbicsCiAgICAgICAgICBzaXplOiAnbWQnLAogICAgICAgICAgYnV0dG9uU2l6ZTogJ3NtJywKICAgICAgICAgIG9rVmFyaWFudDogJ3ByaW1hcnknLAogICAgICAgICAgb2tUaXRsZTogJ1lFUycsCiAgICAgICAgICBjYW5jZWxUaXRsZTogJ0NBTkNMRScsCiAgICAgICAgICBmb290ZXJDbGFzczogJ3AtMicsCiAgICAgICAgICBoaWRlSGVhZGVyQ2xvc2U6IGZhbHNlLAogICAgICAgICAgLy8gY2VudGVyZWQ6IHRydWUKICAgICAgICB9KQogICAgICAgICAgLnRoZW4odmFsdWUgPT4gewogICAgICAgICAgICB0aGlzLmRlbGV0ZVJvdygpOwogICAgICAgICAgICB0aGlzLnNlbGVjdGVkID0gW107CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgIC8vIEFuIGVycm9yIG9jY3VycmVkCiAgICAgICAgICB9KQogICAgICB9CiAgfQp9Owo="},{"version":3,"sources":["PageList.vue"],"names":[],"mappings":";AA4EA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PageList.vue","sourceRoot":"src/pages/page","sourcesContent":["<template>\n  <div>\n    <div class=\"container-fluid\">\n      <div class=\"page-header\">\n        <Breadcrumbs main=\"Pages\" title=\"Pages List\" />\n      </div>\n    </div>\n    <!-- Container-fluid starts-->\n    <div class=\"container-fluid\">\n      <div class=\"row\">\n        <div class=\"col-md-12\">\n          <div class=\"card\">\n            <div class=\"card-header\">\n              <h5>Page Detail</h5>\n            </div>\n            <div class=\"card-body\">\n              <div class=\"table-responsive datatable-vue\">\n                <div>\n                  <b-modal id=\"modal-1\" title=\"Confirmation\">\n                    <p class=\"my-4\">Are you sure!</p>\n                  </b-modal>\n                </div>\n\n                <b-table\n                  class=\"text-center table-bordered\"\n                  striped\n                  hover\n                  head-variant=\"light\"\n                  show-empty\n                  stacked=\"md\"\n                  :items=\"items\"\n                  :fields=\"tablefields\"\n                  :filter=\"filter\"\n                  :current-page=\"currentPage\"\n                  :per-page=\"perPage\"\n                  @filtered=\"onFiltered\"\n                  @row-selected=\"rowSelected\"\n                >\n                  <template v-slot:head(delete)>\n                    <b-button\n                      variant=\"danger\"\n                      :disabled=\"selectedRows.length === 0\"\n                      @click=\"showMsgBoxTwo\"\n                      >Delete</b-button\n                    >\n                  </template>\n                  <template v-slot:cell(delete)=\"{ item, field: { key } }\">\n                    <b-checkbox\n                      v-model=\"item[key]\"\n                      @change=\"deleteSelected(item)\"\n                    ></b-checkbox>\n                  </template>\n                  <template #cell(status)=\"field\">\n                    <statusIcon :field=\"field\"></statusIcon>\n                  </template>\n                </b-table>\n              </div>\n              <b-col md=\"12\" class=\"my-1 p-0 pagination-justify\">\n                <b-pagination\n                  v-model=\"currentPage\"\n                  :total-rows=\"totalRows\"\n                  :per-page=\"perPage\"\n                  aria-controls=\"my-table\"\n                  class=\"mt-4\"\n                ></b-pagination>\n              </b-col>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- Container-fluid Ends-->\n  </div>\n</template>\n\n<script>\nimport statusIcon from \"../../components/featherIcons/status-icon.vue\";\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  components: { statusIcon },\n  data() {\n    return {\n      modes: [\"multi\", \"single\", \"range\"],\n      tablefields: [\n        { key: \"delete\" },\n        { key: \"name\", label: \"Name\", sortable: false },\n        { key: \"status\", label: \"Status\", sortable: false },\n        { key: \"createdAt\", label: \"Created at\", sortable: false }\n      ],\n\n      filter: null,\n      totalRows: 1,\n      currentPage: 1,\n      perPage: 10,\n      pageOptions: [5, 10, 15],\n      selected: [],\n      selectMode: \"multi\"\n    };\n  },\n  created() {\n    this.$store.dispatch(\"pages/getPages\");\n  },\n\n  mounted() {\n    // Set the initial number of items\n    this.totalRows = this.items.length;\n  },\n  computed: {\n    ...mapGetters({\n      items: \"pages/getPages\"\n    }),\n    selectedRows() {\n      return this.items.filter(item => item.delete);\n    },\n    sortOptions() {\n      // Create an options list from our fields\n      return this.tablefields\n        .filter(f => f.sortable)\n        .map(f => {\n          return { text: f.label, value: f.key };\n        });\n    }\n  },\n  methods: {\n    deleteSelected(item) {\n      let objIndex = this.selected.findIndex((obj => obj.id == item.id));\n      if (objIndex > -1) {\n        this.selected.splice(objIndex, 1);\n      } else {\n        this.selected.push(item)\n      }\n    },\n    onFiltered(filteredItems) {\n      // Trigger pagination to update the number of buttons/pages due to filtering\n      this.totalRows = filteredItems.length;\n      this.currentPage = 1;\n    },\n    rowSelected(item) {\n      this.selected = item;\n    },\n    deleteRow() {\n      for( var i=this.items.length - 1; i>=0; i--){\n        for( var j=0; j<this.selected.length; j++){\n          if(this.items[i] && (this.items[i].id === this.selected[j].id)){\n            this.items.splice(i, 1);\n          }\n        }\n      }\n    },\n    deleteBatchRow() {\n      for (var i = 0; i < this.selected.length; i++) {\n        if (this.items[i].id == this.selected[i].id) {\n          this.items.splice(this.items[i], 1);\n        }\n      }\n    },\n    showMsgBoxTwo() {\n        this.$bvModal.msgBoxConfirm('Are you sure!', {\n          title: 'Confirmation',\n          size: 'md',\n          buttonSize: 'sm',\n          okVariant: 'primary',\n          okTitle: 'YES',\n          cancelTitle: 'CANCLE',\n          footerClass: 'p-2',\n          hideHeaderClose: false,\n          // centered: true\n        })\n          .then(value => {\n            this.deleteRow();\n            this.selected = [];\n          })\n          .catch(err => {\n            // An error occurred\n          })\n      }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\ntable.text-center * {\n  text-align: center;\n}\n</style>"]}]}