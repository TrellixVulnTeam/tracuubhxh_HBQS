{"remainingRequest":"E:\\PROJECT\\TRACUUNO\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\PROJECT\\TRACUUNO\\src\\pages\\authentication\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\PROJECT\\TRACUUNO\\src\\pages\\authentication\\login.vue","mtime":1657706760219},{"path":"E:\\PROJECT\\TRACUUNO\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\PROJECT\\TRACUUNO\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\PROJECT\\TRACUUNO\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\PROJECT\\TRACUUNO\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBVc2VyYXV0aCBmcm9tICIuLi8uLi9hdXRoL2luZGV4LmpzIjsKaW1wb3J0IGZpcmViYXNlIGZyb20gImZpcmViYXNlIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHt9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0eXBlOiAicGFzc3dvcmQiLAogICAgICB1c2VybmFtZTogInR1YW5wZGEuYmh4aEBnbWFpbC5jb20iLAogICAgICBwYXNzd29yZDogIjEyMzQ1NiIsCiAgICAgIHN1Ym1pdHRlZDogZmFsc2UKICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgLy8gcmVzZXQgbG9naW4gc3RhdHVzIGZvciBKV1QKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhdXRoZW50aWNhdGlvbi9sb2dvdXQiKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVN1Ym1pdCgpIHsKICAgICAgdGhpcy5zdWJtaXR0ZWQgPSB0cnVlOwogICAgfSwKICAgIGxvZ2luKCkgewogICAgICB0aGlzLnN1Ym1pdHRlZCA9IHRydWU7CiAgICAgIGlmICh0aGlzLmVtYWlsID09ICIiICYmIHRoaXMucGFzc3dvcmQgPT0gIiIpIHsKICAgICAgICAodGhpcy5lbWFpbCA9ICJ0dWFucGRhLmJoeGhAZ21haWwuY29tIiksICh0aGlzLnBhc3N3b3JkID0gIjEyMzQ1NiIpOwogICAgICB9IGVsc2UgewogICAgICAgIGxldCBkYXRhID0gewogICAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsCiAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZAogICAgICAgIH07CgogICAgICAgIGZpcmViYXNlCiAgICAgICAgICAuYXV0aCgpCiAgICAgICAgICAuc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQoZGF0YS51c2VybmFtZSwgZGF0YS5wYXNzd29yZCkKICAgICAgICAgIC50aGVuKAogICAgICAgICAgICByZXN1bHQgPT4gewogICAgICAgICAgICAgIFVzZXJhdXRoLmxvY2FsTG9naW4ocmVzdWx0KTsKICAgICAgICAgICAgICBpZiAocmVzdWx0LnVzZXIucmVmcmVzaFRva2VuKSB7CiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgKICAgICAgICAgICAgICAgICAgInVzZXIiLAogICAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShyZXN1bHQudXNlci5yZWZyZXNoVG9rZW4pCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gIHRoaXMuJHRvYXN0ZWQuc2hvdygic3VjY2VzZnVsbHkgbG9nZWQgaW4iLCB7CiAgICAgICAgICAgIC8vICAgIHRoZW1lOiAiYnViYmxlIiwKICAgICAgICAgICAgLy8gICAgcG9zaXRpb246ICJ0b3AtcmlnaHQiLAogICAgICAgICAgICAvLyAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgIC8vICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICAgIC8vICB9KTsKICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBlcnIgPT4gewogICAgICAgICAgICAgIHRoaXMudXNlcm5hbWUgPSAidHVhbnBkYS5iaHhoQGdtYWlsLmNvbSI7CiAgICAgICAgICAgICAgdGhpcy5wYXNzd29yZCA9ICIxMjM0NTYiOwogICAgICAgICAgICAgIHRoaXMuJHRvYXN0ZWQuc2hvdygiT29wcy4uLiIgKyBlcnIubWVzc2FnZSwgewogICAgICAgICAgICAgICAgdGhlbWU6ICJidWJibGUiLAogICAgICAgICAgICAgICAgcG9zaXRpb246ICJib3R0b20tcmlnaHQiLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICk7CiAgICAgIH0KICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/pages/authentication","sourcesContent":["<template>\n  <form\n    class=\"form-horizontal auth-form\"\n    @submit.prevent=\"handleSubmit\"\n    method=\"post\"\n  >\n    <div class=\"form-group\">\n      <input\n        v-model=\"username\"\n        name=\"login[username]\"\n        type=\"email\"\n        class=\"form-control\"\n        id=\"exampleInputEmail1\"\n      />\n    </div>\n    <div class=\"form-group\">\n      <input\n        :type=\"type\"\n        v-model=\"password\"\n        name=\"login[password]\"\n        class=\"form-control\"\n      />\n    </div>\n    <div class=\"form-terms\">\n      <div class=\"custom-control custom-checkbox mr-sm-2\">\n        <input\n          type=\"checkbox\"\n          class=\"custom-control-input\"\n          id=\"customControlAutosizing\"\n        />\n        <label class=\"custom-control-label\" for=\"customControlAutosizing\"\n          >Nhớ đăng nhập</label\n        >\n        <a href=\"#\" class=\"btn btn-default forgot-pass\">Quên mật khẩu</a>\n      </div>\n    </div>\n    <div class=\"form-button\">\n      <button class=\"btn btn-primary\" type=\"submit\" @click=\"login\">\n        Đăng nhập\n      </button>\n    </div>\n  </form>\n</template>\n\n<script>\nimport Userauth from \"../../auth/index.js\";\nimport firebase from \"firebase\";\nexport default {\n  components: {},\n  data() {\n    return {\n      type: \"password\",\n      username: \"tuanpda.bhxh@gmail.com\",\n      password: \"123456\",\n      submitted: false\n    };\n  },\n  created() {\n    // reset login status for JWT\n    this.$store.dispatch(\"authentication/logout\");\n  },\n  methods: {\n    handleSubmit() {\n      this.submitted = true;\n    },\n    login() {\n      this.submitted = true;\n      if (this.email == \"\" && this.password == \"\") {\n        (this.email = \"tuanpda.bhxh@gmail.com\"), (this.password = \"123456\");\n      } else {\n        let data = {\n          username: this.username,\n          password: this.password\n        };\n\n        firebase\n          .auth()\n          .signInWithEmailAndPassword(data.username, data.password)\n          .then(\n            result => {\n              Userauth.localLogin(result);\n              if (result.user.refreshToken) {\n                localStorage.setItem(\n                  \"user\",\n                  JSON.stringify(result.user.refreshToken)\n                );\n              }\n            //  this.$toasted.show(\"succesfully loged in\", {\n            //    theme: \"bubble\",\n            //    position: \"top-right\",\n            //    type: \"success\",\n            //    duration: 2000\n            //  });\n              this.$router.push(\"/\");\n            },\n            err => {\n              this.username = \"tuanpda.bhxh@gmail.com\";\n              this.password = \"123456\";\n              this.$toasted.show(\"Oops...\" + err.message, {\n                theme: \"bubble\",\n                position: \"bottom-right\",\n                type: \"error\",\n                duration: 2000\n              });\n            }\n          );\n      }\n    }\n  }\n};\n</script>"]}]}